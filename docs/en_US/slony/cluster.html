<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>6. Defining Slony-I Clusters</title>
<link rel="stylesheet" href="stylesheet.css" type="text/css">
<link rev="made" href="pgsql-docs@postgresql.org">
<meta name="generator" content="DocBook XSL Stylesheets V1.70.0">
<link rel="start" href="index.html" title="Slony-I HEAD_20051214 Documentation">
<link rel="up" href="slonyintro.html" title="Slony-I Introduction">
<link rel="prev" href="concepts.html" title="5. Slony-I Concepts">
<link rel="next" href="definingsets.html" title="7. Defining Slony-I Replication Sets">
<link rel="copyright" href="ln-legalnotice.html" title="Legal Notice">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="sect1" lang="en">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="cluster"></a>6. Defining <span class="productname">Slony-I</span> Clusters</h2></div></div></div>
<a name="id567768"></a><p>A <span class="productname">Slony-I</span> cluster is the basic grouping of database instances
in which replication takes place.  It consists of a set of <span class="productname">PostgreSQL</span>
database instances in which is defined a namespace specific to that
cluster.  For instance, if the cluster is called
<code class="envar">cbcluster</code>, then <span class="productname">Slony-I</span> will define, at the
initialization time for each node, a schema called
<code class="command">_cbcluster</code>, in which it then creates numerous
tables that store <span class="productname">Slony-I</span> configuration and replication state
information.  See <a href="schema.html">schemadoc</a> for more documentation about
what is stored in that schema.  More specifically, the tables <a href="table.sl-log-1.html">sl_log_1</a> and <a href="table.sl-log-2.html">sl_log_2</a> log
changes collected on the origin node as they are replicated to
subscribers.  </p>
<p>Each database instance in which replication is to take place is
identified by a node number.</p>
<p>For a simple install, it may be reasonable for the origin to be
node #1, and for the subscriber to be node #2.</p>
<p>Some planning should be done, in more complex cases, to ensure
that the numbering system is kept sane, lest the administrators be
driven insane.  The node numbers should be chosen to somehow
correspond to the shape of the environment, as opposed to (say) the
order in which nodes were initialized.</p>
<p> In <span class="productname">Slony-I</span> version 1.1, the <a href="stmtinclude.html" title="INCLUDE"><span class="refentrytitle">INCLUDE</span></a> and
<a href="stmtdefine.html" title="DEFINE"><span class="refentrytitle">DEFINE</span></a> statements allow you to create a sort of
&#8220;<span class="quote">symbol table</span>&#8221; behind the scenes so that <a href="slonik.html" title="slonik"><span class="refentrytitle"><a name="app-slonik-title"></a><span class="application">slonik</span></span></a> scripts can use names for nodes rather than cryptic
numbers. </p>
</div></body>
</html>
