<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML
><HEAD
><TITLE
>REVOKE</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK
REV="MADE"
HREF="mailto:pgsql-docs@postgresql.org"><LINK
REL="HOME"
TITLE="PostgreSQL 7.4 Documentation"
HREF="index.html"><LINK
REL="UP"
TITLE="SQL Commands"
HREF="sql-commands.html"><LINK
REL="PREVIOUS"
TITLE="RESET"
HREF="sql-reset.html"><LINK
REL="NEXT"
TITLE="ROLLBACK"
HREF="sql-rollback.html"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="stylesheet.css"><META
NAME="creation"
CONTENT="2003-11-16T21:52:34"></HEAD
><BODY
CLASS="REFENTRY"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="5"
ALIGN="center"
VALIGN="bottom"
>PostgreSQL 7.4 Documentation</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
HREF="sql-reset.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
HREF="sql-reset.html"
>Fast Backward</A
></TD
><TD
WIDTH="60%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="top"
><A
HREF="sql-rollback.html"
>Fast Forward</A
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="top"
><A
HREF="sql-rollback.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><H1
><A
NAME="SQL-REVOKE"
></A
>REVOKE</H1
><DIV
CLASS="REFNAMEDIV"
><A
NAME="AEN41521"
></A
><H2
>Name</H2
>REVOKE&nbsp;--&nbsp;remove access privileges</DIV
><A
NAME="AEN41524"
></A
><DIV
CLASS="REFSYNOPSISDIV"
><A
NAME="AEN41526"
></A
><H2
>Synopsis</H2
><PRE
CLASS="SYNOPSIS"
>REVOKE [ GRANT OPTION FOR ]
    { { SELECT | INSERT | UPDATE | DELETE | RULE | REFERENCES | TRIGGER }
    [,...] | ALL [ PRIVILEGES ] }
    ON [ TABLE ] <VAR
CLASS="REPLACEABLE"
>tablename</VAR
> [, ...]
    FROM { <VAR
CLASS="REPLACEABLE"
>username</VAR
> | GROUP <VAR
CLASS="REPLACEABLE"
>groupname</VAR
> | PUBLIC } [, ...]
    [ CASCADE | RESTRICT ]

REVOKE [ GRANT OPTION FOR ]
    { { CREATE | TEMPORARY | TEMP } [,...] | ALL [ PRIVILEGES ] }
    ON DATABASE <VAR
CLASS="REPLACEABLE"
>dbname</VAR
> [, ...]
    FROM { <VAR
CLASS="REPLACEABLE"
>username</VAR
> | GROUP <VAR
CLASS="REPLACEABLE"
>groupname</VAR
> | PUBLIC } [, ...]
    [ CASCADE | RESTRICT ]

REVOKE [ GRANT OPTION FOR ]
    { EXECUTE | ALL [ PRIVILEGES ] }
    ON FUNCTION <VAR
CLASS="REPLACEABLE"
>funcname</VAR
> ([<VAR
CLASS="REPLACEABLE"
>type</VAR
>, ...]) [, ...]
    FROM { <VAR
CLASS="REPLACEABLE"
>username</VAR
> | GROUP <VAR
CLASS="REPLACEABLE"
>groupname</VAR
> | PUBLIC } [, ...]
    [ CASCADE | RESTRICT ]

REVOKE [ GRANT OPTION FOR ]
    { USAGE | ALL [ PRIVILEGES ] }
    ON LANGUAGE <VAR
CLASS="REPLACEABLE"
>langname</VAR
> [, ...]
    FROM { <VAR
CLASS="REPLACEABLE"
>username</VAR
> | GROUP <VAR
CLASS="REPLACEABLE"
>groupname</VAR
> | PUBLIC } [, ...]
    [ CASCADE | RESTRICT ]

REVOKE [ GRANT OPTION FOR ]
    { { CREATE | USAGE } [,...] | ALL [ PRIVILEGES ] }
    ON SCHEMA <VAR
CLASS="REPLACEABLE"
>schemaname</VAR
> [, ...]
    FROM { <VAR
CLASS="REPLACEABLE"
>username</VAR
> | GROUP <VAR
CLASS="REPLACEABLE"
>groupname</VAR
> | PUBLIC } [, ...]
    [ CASCADE | RESTRICT ]</PRE
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="SQL-REVOKE-DESCRIPTION"
></A
><H2
>Description</H2
><P
>   The <TT
CLASS="COMMAND"
>REVOKE</TT
> command revokes previously granted
   privileges from one or more users or groups of users.  The key word
   <VAR
CLASS="LITERAL"
>PUBLIC</VAR
> refers to the implicitly defined group of
   all users.
  </P
><P
>   See the description of the <A
HREF="sql-grant.html"
><I
>GRANT</I
></A
> command for
   the meaning of the privilege types.
  </P
><P
>   Note that any particular user will have the sum
   of privileges granted directly to him, privileges granted to any group he
   is presently a member of, and privileges granted to
   <VAR
CLASS="LITERAL"
>PUBLIC</VAR
>.  Thus, for example, revoking <VAR
CLASS="LITERAL"
>SELECT</VAR
> privilege
   from <VAR
CLASS="LITERAL"
>PUBLIC</VAR
> does not necessarily mean that all users
   have lost <VAR
CLASS="LITERAL"
>SELECT</VAR
> privilege on the object: those who have it granted
   directly or via a group will still have it.
  </P
><P
>   If <VAR
CLASS="LITERAL"
>GRANT OPTION FOR</VAR
> is specified, only the grant
   option for the privilege is revoked, not the privilege itself.
  </P
><P
>   If a user holds a privilege with grant option and has granted it to
   other users then the privileges held by those other users are
   called dependent privileges. If the privilege or the grant option
   held by the first user is being revoked and dependent privileges
   exist, those dependent privileges are also revoked if
   <VAR
CLASS="LITERAL"
>CASCADE</VAR
> is specified, else the revoke action
   will fail.  This recursive revocation only affects privileges that
   were granted through a chain of users that is traceable to the user
   that is the subject of this <VAR
CLASS="LITERAL"
>REVOKE</VAR
> command.
   Thus, the affected users may effectively keep the privilege if it
   was also granted through other users.
  </P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="SQL-REVOKE-NOTES"
></A
><H2
>Notes</H2
><P
>   Use <A
HREF="app-psql.html"
><SPAN
CLASS="APPLICATION"
>psql</SPAN
></A
>'s <TT
CLASS="COMMAND"
>\z</TT
> command to
   display the privileges granted on existing objects.  See also <A
HREF="sql-grant.html"
><I
>GRANT</I
></A
> for information about the format.
  </P
><P
>   A user can only revoke privileges that were granted directly by
   that user.  If, for example, user A has granted a privilege with
   grant option to user B, and user B has in turned granted it to user
   C, then user A cannot revoke the privilege directly from C.
   Instead, user A could revoke the grant option from user B and use
   the <VAR
CLASS="LITERAL"
>CASCADE</VAR
> option so that the privilege is
   automatically revoked from user C.
  </P
><P
>    If a superuser chooses to issue a <TT
CLASS="COMMAND"
>GRANT</TT
> or <TT
CLASS="COMMAND"
>REVOKE</TT
>
    command, the command is performed as though it were issued by the
    owner of the affected object.  Since all privileges ultimately come
    from the object owner (possibly indirectly via chains of grant options),
    it is possible for a superuser to revoke all privileges, but this may
    require use of <VAR
CLASS="LITERAL"
>CASCADE</VAR
> as stated above.
   </P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="SQL-REVOKE-EXAMPLES"
></A
><H2
>Examples</H2
><P
>   Revoke insert privilege for the public on table
   <VAR
CLASS="LITERAL"
>films</VAR
>:

</P><PRE
CLASS="PROGRAMLISTING"
>REVOKE INSERT ON films FROM PUBLIC;</PRE
><P>
  </P
><P
>   Revoke all privileges from user <VAR
CLASS="LITERAL"
>manuel</VAR
> on view <VAR
CLASS="LITERAL"
>kinds</VAR
>:

</P><PRE
CLASS="PROGRAMLISTING"
>  
REVOKE ALL PRIVILEGES ON kinds FROM manuel;</PRE
><P>
  </P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="SQL-REVOKE-COMPATIBILITY"
></A
><H2
>Compatibility</H2
><P
>    The compatibility notes of the <A
HREF="sql-grant.html"
><I
>GRANT</I
></A
> command
    apply analogously to <TT
CLASS="COMMAND"
>REVOKE</TT
>.  The syntax summary is:

</P><PRE
CLASS="SYNOPSIS"
>REVOKE [ GRANT OPTION FOR ] <VAR
CLASS="REPLACEABLE"
>privileges</VAR
>
    ON <VAR
CLASS="REPLACEABLE"
>object</VAR
> [ ( <VAR
CLASS="REPLACEABLE"
>column</VAR
> [, ...] ) ]
    FROM { PUBLIC | <VAR
CLASS="REPLACEABLE"
>username</VAR
> [, ...] }
    { RESTRICT | CASCADE }</PRE
><P>
    One of <VAR
CLASS="LITERAL"
>RESTRICT</VAR
> or <VAR
CLASS="LITERAL"
>CASCADE</VAR
>
    is required according to the standard, but <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
>
    assumes <VAR
CLASS="LITERAL"
>RESTRICT</VAR
> by default.
   </P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN41596"
></A
><H2
>See Also</H2
><P
>   <A
HREF="sql-grant.html"
><I
>GRANT</I
></A
>
  </P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="sql-reset.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="sql-rollback.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>RESET</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="sql-commands.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>ROLLBACK</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>