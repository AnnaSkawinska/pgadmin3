<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Chapter 17. Database Users and Privileges</title>
<link rel="stylesheet" href="stylesheet.css" type="text/css">
<link rev="made" href="pgsql-docs@postgresql.org">
<meta name="generator" content="DocBook XSL Stylesheets V1.64.1">
<link rel="home" href="index.html" title="PostgreSQL 8.0.2 Documentation">
<link rel="up" href="admin.html" title="Part III. Server Administration">
<link rel="previous" href="ssh-tunnels.html" title="16.8. Secure TCP/IP Connections with SSH Tunnels">
<link rel="next" href="user-attributes.html" title="17.2. User Attributes">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="chapter" lang="en" id="user-manag">
<div class="titlepage">
<div><div><h2 class="title">
<a name="user-manag"></a>Chapter 17. Database Users and Privileges</h2></div></div>
<div></div>
</div>
<div class="toc">
<p><b>Table of Contents</b></p>
<dl>
<dt><span class="sect1"><a href="user-manag.html#database-users">17.1. Database Users</a></span></dt>
<dt><span class="sect1"><a href="user-attributes.html">17.2. User Attributes</a></span></dt>
<dt><span class="sect1"><a href="groups.html">17.3. Groups</a></span></dt>
<dt><span class="sect1"><a href="privileges.html">17.4. Privileges</a></span></dt>
<dt><span class="sect1"><a href="perm-functions.html">17.5. Functions and Triggers</a></span></dt>
</dl>
</div>
<p>  Every database cluster contains a set of database users.  Those
  users are separate from the users managed by the operating system on
  which the server runs.  Users own database objects (for example,
  tables) and can assign privileges on those objects to other users to
  control who has access to which object.
 </p>
<p>  This chapter describes how to create and manage users and introduces
  the privilege system.  More information about the various types of
  database objects and the effects of privileges can be found in <a href="ddl.html" title="Chapter 5. Data Definition">Chapter 5, <i>Data Definition</i></a>.
 </p>
<div class="sect1" lang="en">
<div class="titlepage">
<div><div><h2 class="title" style="clear: both">
<a name="database-users"></a>17.1. Database Users</h2></div></div>
<div></div>
</div>
<a name="id2592220"></a><a name="id2592231"></a><a name="id2592236"></a><p>   Database users are conceptually completely separate from
   operating system users. In practice it might be convenient to
   maintain a correspondence, but this is not required. Database user
   names are global across a database cluster installation (and not
   per individual database). To create a user use the <a href="sql-createuser.html">CREATE USER</a> SQL command:
</p>
<pre class="synopsis">CREATE USER <i class="replaceable"><tt>name</tt></i>;</pre>
<p>
   <i class="replaceable"><tt>name</tt></i> follows the rules for SQL
   identifiers: either unadorned without special characters, or
   double-quoted. To remove an existing user, use the analogous
   <a href="sql-dropuser.html">DROP USER</a> command:
</p>
<pre class="synopsis">DROP USER <i class="replaceable"><tt>name</tt></i>;</pre>
<p>
  </p>
<a name="id2592296"></a><a name="id2592302"></a><p>   For convenience, the programs <a href="app-createuser.html" title="createuser"><span class="refentrytitle"><a name="app-createuser-title"></a><span class="application">createuser</span></span></a>
   and <a href="app-dropuser.html" title="dropuser"><span class="refentrytitle"><a name="app-dropuser-title"></a><span class="application">dropuser</span></span></a> are provided as wrappers
   around these SQL commands that can be called from the shell command
   line:
</p>
<pre class="synopsis">createuser <i class="replaceable"><tt>name</tt></i>
dropuser <i class="replaceable"><tt>name</tt></i></pre>
<p>
  </p>
<p>   To determine the set of existing users, examine the <tt class="structname">pg_user</tt>
   system catalog, for example
</p>
<pre class="synopsis">SELECT usename FROM pg_user;</pre>
<p>
   The <a href="app-psql.html" title="psql"><span class="refentrytitle"><a name="app-psql-title"></a><span class="application">psql</span></span></a> program's <tt class="literal">\du</tt> meta-command
   is also useful for listing the existing users.
  </p>
<p>   In order to bootstrap the database system, a freshly initialized
   system always contains one predefined user. This user will have the
   fixed ID 1, and by default (unless altered when running
   <tt class="command">initdb</tt>) it will have the same name as the
   operating system user that initialized the database
   cluster. Customarily, this user will be named
   <tt class="literal">postgres</tt>. In order to create more users you
   first have to connect as this initial user.
  </p>
<p>   Exactly one user identity is active for a connection to the
   database server.  The user name to use for a particular database
   connection is indicated by the client that is initiating the
   connection request in an application-specific fashion. For example,
   the <tt class="command">psql</tt> program uses the
   <tt class="option">-U</tt> command line option to indicate the user to
   connect as.  Many applications assume the name of the current
   operating system user by default (including
   <tt class="command">createuser</tt> and <tt class="command">psql</tt>).  Therefore it
   is convenient to maintain a naming correspondence between the two
   user sets.
  </p>
<p>   The set of database users a given client connection may connect as
   is determined by the client authentication setup, as explained in
   <a href="client-authentication.html" title="Chapter 19. Client Authentication">Chapter 19, <i>Client Authentication</i></a>. (Thus, a client is not
   necessarily limited to connect as the user with the same name as
   its operating system user, just as a person's login name 
   need not match her real name.)  Since the user
   identity determines the set of privileges available to a connected
   client, it is important to carefully configure this when setting up
   a multiuser environment.
  </p>
</div>
</div></body>
</html>
