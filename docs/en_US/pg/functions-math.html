<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>9.3. Mathematical Functions and Operators</title>
<link rel="stylesheet" href="stylesheet.css" type="text/css">
<link rev="made" href="pgsql-docs@postgresql.org">
<meta name="generator" content="DocBook XSL Stylesheets V1.64.1">
<link rel="home" href="index.html" title="PostgreSQL 8.1devel Documentation">
<link rel="up" href="functions.html" title="Chapter 9. Functions and Operators">
<link rel="previous" href="functions-comparison.html" title="9.2. Comparison Operators">
<link rel="next" href="functions-string.html" title="9.4. String Functions and Operators">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="sect1" lang="en">
<div class="titlepage">
<div><div><h2 class="title" style="clear: both">
<a name="functions-math"></a>9.3. Mathematical Functions and Operators</h2></div></div>
<div></div>
</div>
<p>    Mathematical operators are provided for many
    <span class="productname">PostgreSQL</span> types. For types without
    common mathematical conventions for all possible permutations 
    (e.g., date/time types) we
    describe the actual behavior in subsequent sections.
   </p>
<p>    <a href="functions-math.html#functions-math-op-table" title="Table 9.2. Mathematical Operators">Table 9.2, &#8220;Mathematical Operators&#8221;</a> shows the available mathematical operators.
   </p>
<div class="table">
<a name="functions-math-op-table"></a><p class="title"><b>Table 9.2. Mathematical Operators</b></p>
<table summary="Mathematical Operators" border="1">
<colgroup>
<col>
<col>
<col>
<col>
</colgroup>
<thead><tr>
<th>Operator</th>
<th>Description</th>
<th>Example</th>
<th>Result</th>
</tr></thead>
<tbody>
<tr>
<td><tt class="literal">+</tt></td>
<td>addition</td>
<td><tt class="literal">2 + 3</tt></td>
<td><tt class="literal">5</tt></td>
</tr>
<tr>
<td><tt class="literal">-</tt></td>
<td>subtraction</td>
<td><tt class="literal">2 - 3</tt></td>
<td><tt class="literal">-1</tt></td>
</tr>
<tr>
<td><tt class="literal">*</tt></td>
<td>multiplication</td>
<td><tt class="literal">2 * 3</tt></td>
<td><tt class="literal">6</tt></td>
</tr>
<tr>
<td><tt class="literal">/</tt></td>
<td>division (integer division truncates results)</td>
<td><tt class="literal">4 / 2</tt></td>
<td><tt class="literal">2</tt></td>
</tr>
<tr>
<td><tt class="literal">%</tt></td>
<td>modulo (remainder)</td>
<td><tt class="literal">5 % 4</tt></td>
<td><tt class="literal">1</tt></td>
</tr>
<tr>
<td><tt class="literal">^</tt></td>
<td>exponentiation</td>
<td><tt class="literal">2.0 ^ 3.0</tt></td>
<td><tt class="literal">8</tt></td>
</tr>
<tr>
<td><tt class="literal">|/</tt></td>
<td>square root</td>
<td><tt class="literal">|/ 25.0</tt></td>
<td><tt class="literal">5</tt></td>
</tr>
<tr>
<td><tt class="literal">||/</tt></td>
<td>cube root</td>
<td><tt class="literal">||/ 27.0</tt></td>
<td><tt class="literal">3</tt></td>
</tr>
<tr>
<td><tt class="literal">!</tt></td>
<td>factorial</td>
<td><tt class="literal">5 !</tt></td>
<td><tt class="literal">120</tt></td>
</tr>
<tr>
<td><tt class="literal">!!</tt></td>
<td>factorial (prefix operator)</td>
<td><tt class="literal">!! 5</tt></td>
<td><tt class="literal">120</tt></td>
</tr>
<tr>
<td><tt class="literal">@</tt></td>
<td>absolute value</td>
<td><tt class="literal">@ -5.0</tt></td>
<td><tt class="literal">5</tt></td>
</tr>
<tr>
<td><tt class="literal">&amp;</tt></td>
<td>bitwise AND</td>
<td><tt class="literal">91 &amp; 15</tt></td>
<td><tt class="literal">11</tt></td>
</tr>
<tr>
<td><tt class="literal">|</tt></td>
<td>bitwise OR</td>
<td><tt class="literal">32 | 3</tt></td>
<td><tt class="literal">35</tt></td>
</tr>
<tr>
<td><tt class="literal">#</tt></td>
<td>bitwise XOR</td>
<td><tt class="literal">17 # 5</tt></td>
<td><tt class="literal">20</tt></td>
</tr>
<tr>
<td><tt class="literal">~</tt></td>
<td>bitwise NOT</td>
<td><tt class="literal">~1</tt></td>
<td><tt class="literal">-2</tt></td>
</tr>
<tr>
<td><tt class="literal">&lt;&lt;</tt></td>
<td>bitwise shift left</td>
<td><tt class="literal">1 &lt;&lt; 4</tt></td>
<td><tt class="literal">16</tt></td>
</tr>
<tr>
<td><tt class="literal">&gt;&gt;</tt></td>
<td>bitwise shift right</td>
<td><tt class="literal">8 &gt;&gt; 2</tt></td>
<td><tt class="literal">2</tt></td>
</tr>
</tbody>
</table>
</div>
<p>    The bitwise operators work only on integral data types, whereas
    the others are available for all numeric data types.  The bitwise
    operators are also available for the bit
    string types <tt class="type">bit</tt> and <tt class="type">bit varying</tt>, as
    shown in <a href="functions-bitstring.html#functions-bit-string-op-table" title="Table 9.10. Bit String Operators">Table 9.10, &#8220;Bit String Operators&#8221;</a>.
   </p>
<p>   <a href="functions-math.html#functions-math-func-table" title="Table 9.3. Mathematical Functions">Table 9.3, &#8220;Mathematical Functions&#8221;</a> shows the available
   mathematical functions.  In the table, <tt class="literal">dp</tt>
   indicates <tt class="type">double precision</tt>.  Many of these functions
   are provided in multiple forms with different argument types.
   Except where noted, any given form of a function returns the same
   data type as its argument.
   The functions working with <tt class="type">double precision</tt> data are mostly
   implemented on top of the host system's C library; accuracy and behavior in
   boundary cases may therefore vary depending on the host system.
  </p>
<div class="table">
<a name="functions-math-func-table"></a><p class="title"><b>Table 9.3. Mathematical Functions</b></p>
<table summary="Mathematical Functions" border="1">
<colgroup>
<col>
<col>
<col>
<col>
<col>
</colgroup>
<thead><tr>
<th>Function</th>
<th>Return Type</th>
<th>Description</th>
<th>Example</th>
<th>Result</th>
</tr></thead>
<tbody>
<tr>
<td><tt class="literal"><tt class="function">abs</tt>(<i class="replaceable"><tt>x</tt></i>)</tt></td>
<td>(same as <i class="replaceable"><tt>x</tt></i>)</td>
<td>absolute value</td>
<td><tt class="literal">abs(-17.4)</tt></td>
<td><tt class="literal">17.4</tt></td>
</tr>
<tr>
<td><tt class="literal"><tt class="function">cbrt</tt>(<tt class="type">dp</tt>)</tt></td>
<td><tt class="type">dp</tt></td>
<td>cube root</td>
<td><tt class="literal">cbrt(27.0)</tt></td>
<td><tt class="literal">3</tt></td>
</tr>
<tr>
<td><tt class="literal"><tt class="function">ceil</tt>(<tt class="type">dp</tt> or <tt class="type">numeric</tt>)</tt></td>
<td>(same as input)</td>
<td>smallest integer not less than argument</td>
<td><tt class="literal">ceil(-42.8)</tt></td>
<td><tt class="literal">-42</tt></td>
</tr>
<tr>
<td><tt class="literal"><tt class="function">ceiling</tt>(<tt class="type">dp</tt> or <tt class="type">numeric</tt>)</tt></td>
<td>(same as input)</td>
<td>smallest integer not less than argument (alias for <tt class="function">ceil</tt>)</td>
<td><tt class="literal">ceiling(-95.3)</tt></td>
<td><tt class="literal">-95</tt></td>
</tr>
<tr>
<td><tt class="literal"><tt class="function">degrees</tt>(<tt class="type">dp</tt>)</tt></td>
<td><tt class="type">dp</tt></td>
<td>radians to degrees</td>
<td><tt class="literal">degrees(0.5)</tt></td>
<td><tt class="literal">28.6478897565412</tt></td>
</tr>
<tr>
<td><tt class="literal"><tt class="function">exp</tt>(<tt class="type">dp</tt> or <tt class="type">numeric</tt>)</tt></td>
<td>(same as input)</td>
<td>exponential</td>
<td><tt class="literal">exp(1.0)</tt></td>
<td><tt class="literal">2.71828182845905</tt></td>
</tr>
<tr>
<td><tt class="literal"><tt class="function">floor</tt>(<tt class="type">dp</tt> or <tt class="type">numeric</tt>)</tt></td>
<td>(same as input)</td>
<td>largest integer not greater than argument</td>
<td><tt class="literal">floor(-42.8)</tt></td>
<td><tt class="literal">-43</tt></td>
</tr>
<tr>
<td><tt class="literal"><tt class="function">ln</tt>(<tt class="type">dp</tt> or <tt class="type">numeric</tt>)</tt></td>
<td>(same as input)</td>
<td>natural logarithm</td>
<td><tt class="literal">ln(2.0)</tt></td>
<td><tt class="literal">0.693147180559945</tt></td>
</tr>
<tr>
<td><tt class="literal"><tt class="function">log</tt>(<tt class="type">dp</tt> or <tt class="type">numeric</tt>)</tt></td>
<td>(same as input)</td>
<td>base 10 logarithm</td>
<td><tt class="literal">log(100.0)</tt></td>
<td><tt class="literal">2</tt></td>
</tr>
<tr>
<td><tt class="literal"><tt class="function">log</tt>(<i class="parameter"><tt>b</tt></i> <tt class="type">numeric</tt>,
        <i class="parameter"><tt>x</tt></i> <tt class="type">numeric</tt>)</tt></td>
<td><tt class="type">numeric</tt></td>
<td>logarithm to base <i class="parameter"><tt>b</tt></i>
</td>
<td><tt class="literal">log(2.0, 64.0)</tt></td>
<td><tt class="literal">6.0000000000</tt></td>
</tr>
<tr>
<td><tt class="literal"><tt class="function">mod</tt>(<i class="parameter"><tt>y</tt></i>,
        <i class="parameter"><tt>x</tt></i>)</tt></td>
<td>(same as argument types)</td>
<td>remainder of <i class="parameter"><tt>y</tt></i>/<i class="parameter"><tt>x</tt></i>
</td>
<td><tt class="literal">mod(9,4)</tt></td>
<td><tt class="literal">1</tt></td>
</tr>
<tr>
<td><tt class="literal"><tt class="function">pi</tt>()</tt></td>
<td><tt class="type">dp</tt></td>
<td>&#8220;<span class="quote">[pi    ]</span>&#8221; constant</td>
<td><tt class="literal">pi()</tt></td>
<td><tt class="literal">3.14159265358979</tt></td>
</tr>
<tr>
<td><tt class="literal"><tt class="function">power</tt>(<i class="parameter"><tt>a</tt></i> <tt class="type">dp</tt>,
        <i class="parameter"><tt>b</tt></i> <tt class="type">dp</tt>)</tt></td>
<td><tt class="type">dp</tt></td>
<td>
<i class="parameter"><tt>a</tt></i> raised to the power of <i class="parameter"><tt>b</tt></i>
</td>
<td><tt class="literal">power(9.0, 3.0)</tt></td>
<td><tt class="literal">729</tt></td>
</tr>
<tr>
<td><tt class="literal"><tt class="function">power</tt>(<i class="parameter"><tt>a</tt></i> <tt class="type">numeric</tt>,
        <i class="parameter"><tt>b</tt></i> <tt class="type">numeric</tt>)</tt></td>
<td><tt class="type">numeric</tt></td>
<td>
<i class="parameter"><tt>a</tt></i> raised to the power of <i class="parameter"><tt>b</tt></i>
</td>
<td><tt class="literal">power(9.0, 3.0)</tt></td>
<td><tt class="literal">729</tt></td>
</tr>
<tr>
<td><tt class="literal"><tt class="function">radians</tt>(<tt class="type">dp</tt>)</tt></td>
<td><tt class="type">dp</tt></td>
<td>degrees to radians</td>
<td><tt class="literal">radians(45.0)</tt></td>
<td><tt class="literal">0.785398163397448</tt></td>
</tr>
<tr>
<td><tt class="literal"><tt class="function">random</tt>()</tt></td>
<td><tt class="type">dp</tt></td>
<td>random value between 0.0 and 1.0</td>
<td><tt class="literal">random()</tt></td>
<td> </td>
</tr>
<tr>
<td><tt class="literal"><tt class="function">round</tt>(<tt class="type">dp</tt> or <tt class="type">numeric</tt>)</tt></td>
<td>(same as input)</td>
<td>round to nearest integer</td>
<td><tt class="literal">round(42.4)</tt></td>
<td><tt class="literal">42</tt></td>
</tr>
<tr>
<td><tt class="literal"><tt class="function">round</tt>(<i class="parameter"><tt>v</tt></i> <tt class="type">numeric</tt>, <i class="parameter"><tt>s</tt></i> <tt class="type">integer</tt>)</tt></td>
<td><tt class="type">numeric</tt></td>
<td>round to <i class="parameter"><tt>s</tt></i> decimal places</td>
<td><tt class="literal">round(42.4382, 2)</tt></td>
<td><tt class="literal">42.44</tt></td>
</tr>
<tr>
<td><tt class="literal"><tt class="function">setseed</tt>(<tt class="type">dp</tt>)</tt></td>
<td><tt class="type">integer</tt></td>
<td>set seed for subsequent <tt class="literal">random()</tt> calls</td>
<td><tt class="literal">setseed(0.54823)</tt></td>
<td><tt class="literal">1177314959</tt></td>
</tr>
<tr>
<td><tt class="literal"><tt class="function">sign</tt>(<tt class="type">dp</tt> or <tt class="type">numeric</tt>)</tt></td>
<td>(same as input)</td>
<td>sign of the argument (-1, 0, +1)</td>
<td><tt class="literal">sign(-8.4)</tt></td>
<td><tt class="literal">-1</tt></td>
</tr>
<tr>
<td><tt class="literal"><tt class="function">sqrt</tt>(<tt class="type">dp</tt> or <tt class="type">numeric</tt>)</tt></td>
<td>(same as input)</td>
<td>square root</td>
<td><tt class="literal">sqrt(2.0)</tt></td>
<td><tt class="literal">1.4142135623731</tt></td>
</tr>
<tr>
<td><tt class="literal"><tt class="function">trunc</tt>(<tt class="type">dp</tt> or <tt class="type">numeric</tt>)</tt></td>
<td>(same as input)</td>
<td>truncate toward zero</td>
<td><tt class="literal">trunc(42.8)</tt></td>
<td><tt class="literal">42</tt></td>
</tr>
<tr>
<td><tt class="literal"><tt class="function">trunc</tt>(<i class="parameter"><tt>v</tt></i> <tt class="type">numeric</tt>, <i class="parameter"><tt>s</tt></i> <tt class="type">integer</tt>)</tt></td>
<td><tt class="type">numeric</tt></td>
<td>truncate to <i class="parameter"><tt>s</tt></i> decimal places</td>
<td><tt class="literal">trunc(42.4382, 2)</tt></td>
<td><tt class="literal">42.43</tt></td>
</tr>
<tr>
<td><tt class="literal"><tt class="function">width_bucket</tt>(<i class="parameter"><tt>op</tt></i> <tt class="type">numeric</tt>, <i class="parameter"><tt>b1</tt></i> <tt class="type">numeric</tt>, <i class="parameter"><tt>b2</tt></i> <tt class="type">numeric</tt>, <i class="parameter"><tt>count</tt></i> <tt class="type">integer</tt>)</tt></td>
<td><tt class="type">integer</tt></td>
<td>return the bucket to which <i class="parameter"><tt>operand</tt></i> would
       be assigned in an equidepth histogram with <i class="parameter"><tt>count</tt></i>
       buckets, an upper bound of <i class="parameter"><tt>b1</tt></i>, and a lower bound
       of <i class="parameter"><tt>b2</tt></i>
</td>
<td><tt class="literal">width_bucket(5.35, 0.024, 10.06, 5)</tt></td>
<td><tt class="literal">3</tt></td>
</tr>
</tbody>
</table>
</div>
<p>   Finally, <a href="functions-math.html#functions-math-trig-table" title="Table 9.4. Trigonometric Functions">Table 9.4, &#8220;Trigonometric Functions&#8221;</a> shows the
   available trigonometric functions.  All trigonometric functions
   take arguments and return values of type <tt class="type">double
   precision</tt>.
  </p>
<div class="table">
<a name="functions-math-trig-table"></a><p class="title"><b>Table 9.4. Trigonometric Functions</b></p>
<table summary="Trigonometric Functions" border="1">
<colgroup>
<col>
<col>
</colgroup>
<thead><tr>
<th>Function</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr>
<td><tt class="literal"><tt class="function">acos</tt>(<i class="replaceable"><tt>x</tt></i>)</tt></td>
<td>inverse cosine</td>
</tr>
<tr>
<td><tt class="literal"><tt class="function">asin</tt>(<i class="replaceable"><tt>x</tt></i>)</tt></td>
<td>inverse sine</td>
</tr>
<tr>
<td><tt class="literal"><tt class="function">atan</tt>(<i class="replaceable"><tt>x</tt></i>)</tt></td>
<td>inverse tangent</td>
</tr>
<tr>
<td><tt class="literal"><tt class="function">atan2</tt>(<i class="replaceable"><tt>x</tt></i>,
        <i class="replaceable"><tt>y</tt></i>)</tt></td>
<td>inverse tangent of
        <tt class="literal"><i class="replaceable"><tt>x</tt></i>/<i class="replaceable"><tt>y</tt></i></tt>
</td>
</tr>
<tr>
<td><tt class="literal"><tt class="function">cos</tt>(<i class="replaceable"><tt>x</tt></i>)</tt></td>
<td>cosine</td>
</tr>
<tr>
<td><tt class="literal"><tt class="function">cot</tt>(<i class="replaceable"><tt>x</tt></i>)</tt></td>
<td>cotangent</td>
</tr>
<tr>
<td><tt class="literal"><tt class="function">sin</tt>(<i class="replaceable"><tt>x</tt></i>)</tt></td>
<td>sine</td>
</tr>
<tr>
<td><tt class="literal"><tt class="function">tan</tt>(<i class="replaceable"><tt>x</tt></i>)</tt></td>
<td>tangent</td>
</tr>
</tbody>
</table>
</div>
</div></body>
</html>
