<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>E.17. Release 7.3.3</title>
<link rel="stylesheet" href="stylesheet.css" type="text/css">
<link rev="made" href="pgsql-docs@postgresql.org">
<meta name="generator" content="DocBook XSL Stylesheets V1.64.1">
<link rel="home" href="index.html" title="PostgreSQL 8.0.2 Documentation">
<link rel="up" href="release.html" title="Appendix E. Release Notes">
<link rel="previous" href="release-7-3-4.html" title="E.16. Release 7.3.4">
<link rel="next" href="release-7-3-2.html" title="E.18. Release 7.3.2">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="sect1" lang="en">
<div class="titlepage">
<div><div><h2 class="title" style="clear: both">
<a name="release-7-3-3"></a>E.17. Release 7.3.3</h2></div></div>
<div></div>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Release date</h3>
<p>2003-05-22</p>
</div>
<p>   This release contains a variety of fixes for version 7.3.2.
  </p>
<div class="sect2" lang="en">
<div class="titlepage">
<div><div><h3 class="title">
<a name="id2774064"></a>E.17.1. Migration to version 7.3.3</h3></div></div>
<div></div>
</div>
<p>    A dump/restore is <span class="emphasis"><em>not</em></span> required for those
    running version 7.3.*.
   </p>
</div>
<div class="sect2" lang="en">
<div class="titlepage">
<div><div><h3 class="title">
<a name="id2774075"></a>E.17.2. Changes</h3></div></div>
<div></div>
</div>
<div class="itemizedlist"><ul type="disc">
<li><p>Repair sometimes-incorrect computation of StartUpID after a crash</p></li>
<li><p>Avoid slowness with lots of deferred triggers in one transaction (Stephan)</p></li>
<li><p>Don't lock referenced row when <tt class="command">UPDATE</tt> doesn't change foreign key's value (Jan)</p></li>
<li><p>Use <tt class="command">-fPIC</tt> not <tt class="command">-fpic</tt> on Sparc (Tom Callaway)</p></li>
<li><p>Repair lack of schema-awareness in contrib/reindexdb</p></li>
<li><p>Fix contrib/intarray error for zero-element result array (Teodor)</p></li>
<li><p>Ensure createuser script will exit on control-C (Oliver)</p></li>
<li><p>Fix errors when the type of a dropped column has itself been dropped</p></li>
<li><p><tt class="command">CHECKPOINT</tt> does not cause database panic on failure in noncritical steps</p></li>
<li><p>Accept 60 in seconds fields of timestamp, time, interval input values</p></li>
<li><p>Issue notice, not error, if <tt class="type">TIMESTAMP</tt>,
<tt class="type"> TIME</tt>, or <tt class="type">INTERVAL</tt> precision too large</p></li>
<li><p>Fix <tt class="function">abstime-to-time</tt> cast function (fix is
       not applied unless you <span class="application">initdb</span>)</p></li>
<li><p>Fix <span class="application">pg_proc</span> entry for
      <tt class="type">timestampt_izone</tt> (fix is not applied unless you
        <span class="application">initdb</span>)</p></li>
<li><p>Make <tt class="function">EXTRACT(EPOCH FROM timestamp without time zone)</tt> treat input as local time</p></li>
<li><p><tt class="command">'now'::timestamptz</tt> gave wrong answer if timezone changed earlier in transaction</p></li>
<li><p><tt class="envar">HAVE_INT64_TIMESTAMP</tt> code for time with timezone overwrote its input</p></li>
<li><p>Accept <tt class="command">GLOBAL TEMP/TEMPORARY</tt> as a
       synonym for <tt class="command">TEMPORARY</tt></p></li>
<li><p>Avoid improper schema-privilege-check failure in foreign-key triggers</p></li>
<li><p>Fix bugs in foreign-key triggers for <tt class="command">SET DEFAULT</tt> action</p></li>
<li><p>Fix incorrect time-qual check in row fetch for
       <tt class="command">UPDATE</tt> and <tt class="command">DELETE</tt> triggers</p></li>
<li><p>Foreign-key clauses were parsed but ignored in
       <tt class="command">ALTER TABLE ADD COLUMN</tt></p></li>
<li><p>Fix createlang script breakage for case where handler function already exists</p></li>
<li><p>Fix misbehavior on zero-column tables in <span class="application">pg_dump</span>, COPY, ANALYZE, other places</p></li>
<li><p>Fix misbehavior of <tt class="function">func_error()</tt> on type names containing '%'</p></li>
<li><p>Fix misbehavior of <tt class="function">replace()</tt> on strings containing '%'</p></li>
<li><p>Regular-expression patterns containing certain multibyte characters failed</p></li>
<li><p>Account correctly for <tt class="command">NULL</tt>s in more cases in join size estimation</p></li>
<li><p>Avoid conflict with system definition of <tt class="function">isblank()</tt> function or macro</p></li>
<li><p>Fix failure to convert large code point values in EUC_TW conversions (Tatsuo)</p></li>
<li><p>Fix error recovery for <tt class="function">SSL_read</tt>/<tt class="function">SSL_write</tt> calls</p></li>
<li><p>Don't do early constant-folding of type coercion expressions</p></li>
<li><p>Validate page header fields immediately after reading in any page</p></li>
<li><p>Repair incorrect check for ungrouped variables in unnamed joins</p></li>
<li><p>Fix buffer overrun in <tt class="function">to_ascii</tt> (Guido Notari)</p></li>
<li><p>contrib/ltree fixes (Teodor)</p></li>
<li><p>Fix core dump in deadlock detection on machines where char is unsigned</p></li>
<li><p>Avoid running out of buffers in many-way indexscan (bug introduced in 7.3)</p></li>
<li><p>Fix planner's selectivity estimation functions to handle domains properly</p></li>
<li><p>Fix <span class="application">dbmirror</span> memory-allocation bug (Steven Singer)</p></li>
<li><p>Prevent infinite loop in <tt class="function">ln(numeric)</tt> due to roundoff error</p></li>
<li><p><tt class="command">GROUP BY</tt> got confused if there were multiple equal GROUP BY items</p></li>
<li><p>Fix bad plan when inherited <tt class="command">UPDATE</tt>/<tt class="command">DELETE</tt> references another inherited table</p></li>
<li><p>Prevent clustering on incomplete (partial or non-NULL-storing) indexes</p></li>
<li><p>Service shutdown request at proper time if it arrives while still starting up</p></li>
<li><p>Fix left-links in temporary indexes (could make backwards scans miss entries)</p></li>
<li><p>Fix incorrect handling of client_encoding setting in postgresql.conf (Tatsuo)</p></li>
<li><p>Fix failure to respond to <tt class="command">pg_ctl stop -m fast</tt> after Async_NotifyHandler runs</p></li>
<li><p>Fix SPI for case where rule contains multiple statements of the same type</p></li>
<li><p>Fix problem with checking for wrong type of access privilege in rule query</p></li>
<li><p>Fix problem with <tt class="command">EXCEPT</tt> in <tt class="command">CREATE RULE</tt></p></li>
<li><p>Prevent problem with dropping temp tables having serial columns</p></li>
<li><p>Fix replace_vars_with_subplan_refs failure in complex views</p></li>
<li><p>Fix regexp slowness in single-byte encodings (Tatsuo)</p></li>
<li><p>Allow qualified type names in <tt class="command">CREATE CAST</tt>
       and <tt class="command"> DROP CAST</tt></p></li>
<li><p>Accept <tt class="function">SETOF type[]</tt>, which formerly had to
       be written <tt class="function">SETOF _type</tt></p></li>
<li><p>Fix <span class="application">pg_dump</span> core dump in some cases with procedural languages</p></li>
<li><p>Force ISO datestyle in <span class="application">pg_dump</span> output, for portability (Oliver)</p></li>
<li><p><span class="application">pg_dump</span> failed to handle error return
       from <tt class="function">lo_read</tt> (Oleg Drokin)</p></li>
<li><p><span class="application">pg_dumpall</span> failed with groups having no members (Nick Eskelinen)</p></li>
<li><p><span class="application">pg_dumpall</span> failed to recognize --globals-only switch</p></li>
<li><p>pg_restore failed to restore blobs if -X disable-triggers is specified</p></li>
<li><p>Repair intrafunction memory leak in plpgsql</p></li>
<li><p>pltcl's <tt class="command">elog</tt> command dumped core if given wrong parameters (Ian Harding)</p></li>
<li><p>plpython used wrong value of <tt class="envar">atttypmod</tt> (Brad McLean)</p></li>
<li><p>Fix improper quoting of boolean values in Python interface (D'Arcy)</p></li>
<li><p>Added <tt class="function">addDataType()</tt> method to PGConnection interface for JDBC</p></li>
<li><p>Fixed various problems with updateable ResultSets for JDBC (Shawn Green)</p></li>
<li><p>Fixed various problems with DatabaseMetaData for JDBC (Kris Jurka, Peter Royal)</p></li>
<li><p>Fixed problem with parsing table ACLs in JDBC</p></li>
<li><p>Better error message for character set conversion problems in JDBC</p></li>
</ul></div>
</div>
</div></body>
</html>
