<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>41.3. pg_am</title>
<link rel="stylesheet" href="stylesheet.css" type="text/css">
<link rev="made" href="pgsql-docs@postgresql.org">
<meta name="generator" content="DocBook XSL Stylesheets V1.69.1">
<link rel="start" href="index.html" title="PostgreSQL 8.0.6 Documentation">
<link rel="up" href="catalogs.html" title="Chapter 41. System Catalogs">
<link rel="prev" href="catalog-pg-aggregate.html" title="41.2. pg_aggregate">
<link rel="next" href="catalog-pg-amop.html" title="41.4. pg_amop">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="sect1" lang="en">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="catalog-pg-am"></a>41.3. <code class="structname">pg_am</code></h2></div></div></div>
<a name="id746677"></a><p>   The catalog <code class="structname">pg_am</code> stores information about index access
   methods.  There is one row for each index access method supported by
   the system.
  </p>
<div class="table">
<a name="id746696"></a><p class="title"><b>Table 41.3. <code class="structname">pg_am</code> Columns</b></p>
<table summary="pg_am Columns" border="1">
<colgroup>
<col>
<col>
<col>
<col>
</colgroup>
<thead><tr>
<th>Name</th>
<th>Type</th>
<th>References</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr>
<td><code class="structfield">amname</code></td>
<td><code class="type">name</code></td>
<td> </td>
<td>Name of the access method</td>
</tr>
<tr>
<td><code class="structfield">amowner</code></td>
<td><code class="type">int4</code></td>
<td><code class="literal"><a href="catalog-pg-shadow.html" title="41.26. pg_shadow"><code class="structname">pg_shadow</code></a>.usesysid</code></td>
<td>User ID of the owner (currently not used)</td>
</tr>
<tr>
<td><code class="structfield">amstrategies</code></td>
<td><code class="type">int2</code></td>
<td> </td>
<td>Number of operator strategies for this access method</td>
</tr>
<tr>
<td><code class="structfield">amsupport</code></td>
<td><code class="type">int2</code></td>
<td> </td>
<td>Number of support routines for this access method</td>
</tr>
<tr>
<td><code class="structfield">amorderstrategy</code></td>
<td><code class="type">int2</code></td>
<td> </td>
<td>Zero if the index offers no sort order, otherwise the strategy
      number of the strategy operator that describes the sort order</td>
</tr>
<tr>
<td><code class="structfield">amcanunique</code></td>
<td><code class="type">bool</code></td>
<td> </td>
<td>Does the access method support unique indexes?</td>
</tr>
<tr>
<td><code class="structfield">amcanmulticol</code></td>
<td><code class="type">bool</code></td>
<td> </td>
<td>Does the access method support multicolumn indexes?</td>
</tr>
<tr>
<td><code class="structfield">amindexnulls</code></td>
<td><code class="type">bool</code></td>
<td> </td>
<td>Does the access method support null index entries?</td>
</tr>
<tr>
<td><code class="structfield">amconcurrent</code></td>
<td><code class="type">bool</code></td>
<td> </td>
<td>Does the access method support concurrent updates?</td>
</tr>
<tr>
<td><code class="structfield">amgettuple</code></td>
<td><code class="type">regproc</code></td>
<td><code class="literal"><a href="catalog-pg-proc.html" title="41.24. pg_proc"><code class="structname">pg_proc</code></a>.oid</code></td>
<td>&#8220;<span class="quote">Next valid tuple</span>&#8221; function</td>
</tr>
<tr>
<td><code class="structfield">aminsert</code></td>
<td><code class="type">regproc</code></td>
<td><code class="literal"><a href="catalog-pg-proc.html" title="41.24. pg_proc"><code class="structname">pg_proc</code></a>.oid</code></td>
<td>&#8220;<span class="quote">Insert this tuple</span>&#8221; function</td>
</tr>
<tr>
<td><code class="structfield">ambeginscan</code></td>
<td><code class="type">regproc</code></td>
<td><code class="literal"><a href="catalog-pg-proc.html" title="41.24. pg_proc"><code class="structname">pg_proc</code></a>.oid</code></td>
<td>&#8220;<span class="quote">Start new scan</span>&#8221; function</td>
</tr>
<tr>
<td><code class="structfield">amrescan</code></td>
<td><code class="type">regproc</code></td>
<td><code class="literal"><a href="catalog-pg-proc.html" title="41.24. pg_proc"><code class="structname">pg_proc</code></a>.oid</code></td>
<td>&#8220;<span class="quote">Restart this scan</span>&#8221; function</td>
</tr>
<tr>
<td><code class="structfield">amendscan</code></td>
<td><code class="type">regproc</code></td>
<td><code class="literal"><a href="catalog-pg-proc.html" title="41.24. pg_proc"><code class="structname">pg_proc</code></a>.oid</code></td>
<td>&#8220;<span class="quote">End this scan</span>&#8221; function</td>
</tr>
<tr>
<td><code class="structfield">ammarkpos</code></td>
<td><code class="type">regproc</code></td>
<td><code class="literal"><a href="catalog-pg-proc.html" title="41.24. pg_proc"><code class="structname">pg_proc</code></a>.oid</code></td>
<td>&#8220;<span class="quote">Mark current scan position</span>&#8221; function</td>
</tr>
<tr>
<td><code class="structfield">amrestrpos</code></td>
<td><code class="type">regproc</code></td>
<td><code class="literal"><a href="catalog-pg-proc.html" title="41.24. pg_proc"><code class="structname">pg_proc</code></a>.oid</code></td>
<td>&#8220;<span class="quote">Restore marked scan position</span>&#8221; function</td>
</tr>
<tr>
<td><code class="structfield">ambuild</code></td>
<td><code class="type">regproc</code></td>
<td><code class="literal"><a href="catalog-pg-proc.html" title="41.24. pg_proc"><code class="structname">pg_proc</code></a>.oid</code></td>
<td>&#8220;<span class="quote">Build new index</span>&#8221; function</td>
</tr>
<tr>
<td><code class="structfield">ambulkdelete</code></td>
<td><code class="type">regproc</code></td>
<td><code class="literal"><a href="catalog-pg-proc.html" title="41.24. pg_proc"><code class="structname">pg_proc</code></a>.oid</code></td>
<td>Bulk-delete function</td>
</tr>
<tr>
<td><code class="structfield">amvacuumcleanup</code></td>
<td><code class="type">regproc</code></td>
<td><code class="literal"><a href="catalog-pg-proc.html" title="41.24. pg_proc"><code class="structname">pg_proc</code></a>.oid</code></td>
<td>Post-<code class="command">VACUUM</code> cleanup function</td>
</tr>
<tr>
<td><code class="structfield">amcostestimate</code></td>
<td><code class="type">regproc</code></td>
<td><code class="literal"><a href="catalog-pg-proc.html" title="41.24. pg_proc"><code class="structname">pg_proc</code></a>.oid</code></td>
<td>Function to estimate cost of an index scan</td>
</tr>
</tbody>
</table>
</div>
<p>    An index access method that supports multiple columns (has
    <code class="structfield">amcanmulticol</code> true) <span class="emphasis"><em>must</em></span>
    support indexing null values in columns after the first, because the planner
    will assume the index can be used for queries on just the first
    column(s).  For example, consider an index on (a,b) and a query with
    <code class="literal">WHERE a = 4</code>.  The system will assume the index can be used to scan for
    rows with <code class="literal">a = 4</code>, which is wrong if the index omits rows where <code class="literal">b</code> is null.
    It is, however, OK to omit rows where the first indexed column is null.
    (GiST currently does so.)
    <code class="structfield">amindexnulls</code> should be set true only if the
    index access method indexes all rows, including arbitrary combinations of null values.
   </p>
</div></body>
</html>
