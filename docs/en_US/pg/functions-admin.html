<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>9.20. System Administration Functions</title>
<link rel="stylesheet" href="stylesheet.css" type="text/css">
<link rev="made" href="pgsql-docs@postgresql.org">
<meta name="generator" content="DocBook XSL Stylesheets V1.72.0">
<link rel="start" href="index.html" title="PostgreSQL 8.0.11 Documentation">
<link rel="up" href="functions.html" title="Chapter 9. Functions and Operators">
<link rel="prev" href="functions-info.html" title="9.19. System Information Functions">
<link rel="next" href="typeconv.html" title="Chapter 10. Type Conversion">
<link rel="copyright" href="ln-legalnotice.html" title="Legal Notice">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="sect1" lang="en">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="functions-admin"></a>9.20. System Administration Functions</h2></div></div></div>
<p>   <a href="functions-admin.html#functions-admin-set-table" title="Table 9.44. Configuration Settings Functions">Table 9.44, &#8220;Configuration Settings Functions&#8221;</a> shows the functions
   available to query and alter run-time configuration parameters.
  </p>
<div class="table">
<a name="functions-admin-set-table"></a><p class="title"><b>Table 9.44. Configuration Settings Functions</b></p>
<div class="table-contents"><table summary="Configuration Settings Functions" border="1">
<colgroup>
<col>
<col>
<col>
</colgroup>
<thead><tr>
<th>Name</th>
<th>Return Type</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr>
<td>        <code class="literal"><code class="function">current_setting</code>(<em class="parameter"><code>setting_name</code></em>)</code>
       </td>
<td><code class="type">text</code></td>
<td>current value of setting</td>
</tr>
<tr>
<td>        <code class="literal"><code class="function">set_config(<em class="parameter"><code>setting_name</code></em>, ,
                             <em class="parameter"><code>new_value</code></em>, ,
                             <em class="parameter"><code>is_local</code></em>)</code></code>
       </td>
<td><code class="type">text</code></td>
<td>set parameter and return new value</td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><a name="id2611952"></a><a name="id2611962"></a><a name="id2611971"></a><p>    The function <code class="function">current_setting</code> yields the
    current value of the setting <em class="parameter"><code>setting_name</code></em>.
    It corresponds to the <acronym class="acronym">SQL</acronym> command
    <code class="command">SHOW</code>.  An example:
</p>
<pre class="programlisting">SELECT current_setting('datestyle');

 current_setting
-----------------
 ISO, MDY
(1 row)</pre>
<p>
   </p>
<p>    <code class="function">set_config</code> sets the parameter
    <em class="parameter"><code>setting_name</code></em> to
    <em class="parameter"><code>new_value</code></em>.  If
    <em class="parameter"><code>is_local</code></em> is <code class="literal">true</code>, the
    new value will only apply to the current transaction. If you want
    the new value to apply for the current session, use
    <code class="literal">false</code> instead. The function corresponds to the
    SQL command <code class="command">SET</code>. An example:
</p>
<pre class="programlisting">SELECT set_config('log_statement_stats', 'off', false);

 set_config
------------
 off
(1 row)</pre>
<p>
   </p>
<a name="id2612074"></a><a name="id2612084"></a><p>    The function shown in <a href="functions-admin.html#functions-admin-signal-table" title="Table 9.45. Backend Signalling Functions">Table 9.45, &#8220;Backend Signalling Functions&#8221;</a> sends control signals to
    other server processes.  Use of this function is restricted
    to superusers.
   </p>
<div class="table">
<a name="functions-admin-signal-table"></a><p class="title"><b>Table 9.45. Backend Signalling Functions</b></p>
<div class="table-contents"><table summary="Backend Signalling Functions" border="1">
<colgroup>
<col>
<col>
<col>
</colgroup>
<thead><tr>
<th>Name</th>
<th>Return Type</th>
<th>Description</th>
</tr></thead>
<tbody><tr>
<td>        <code class="literal"><code class="function">pg_cancel_backend</code>(<em class="parameter"><code>pid</code></em>)</code>
        </td>
<td><code class="type">int</code></td>
<td>Cancel a backend's current query</td>
</tr></tbody>
</table></div>
</div>
<br class="table-break"><p>    This function returns 1 if successful, 0 if not successful.
    The process ID (<code class="literal">pid</code>) of an active backend can be found
    from the <code class="structfield">procpid</code> column in the
    <code class="structname">pg_stat_activity</code> view, or by listing the <code class="command">postgres</code>
    processes on the server with <span class="application">ps</span>.
   </p>
<a name="id2612187"></a><a name="id2612196"></a><a name="id2612206"></a><p>    The functions shown in <a href="functions-admin.html#functions-admin-backup-table" title="Table 9.46. Backup Control Functions">Table 9.46, &#8220;Backup Control Functions&#8221;</a> assist in making on-line backups.
    Use of these functions is restricted to superusers.
   </p>
<div class="table">
<a name="functions-admin-backup-table"></a><p class="title"><b>Table 9.46. Backup Control Functions</b></p>
<div class="table-contents"><table summary="Backup Control Functions" border="1">
<colgroup>
<col>
<col>
<col>
</colgroup>
<thead><tr>
<th>Name</th>
<th>Return Type</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr>
<td>        <code class="literal"><code class="function">pg_start_backup</code>(<em class="parameter"><code>label_text</code></em>)</code>
        </td>
<td><code class="type">text</code></td>
<td>Set up for performing on-line backup</td>
</tr>
<tr>
<td>        <code class="literal"><code class="function">pg_stop_backup</code>()</code>
        </td>
<td><code class="type">text</code></td>
<td>Finish performing on-line backup</td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>    <code class="function">pg_start_backup</code> accepts a single parameter which is an
    arbitrary user-defined label for the backup.  (Typically this would be
    the name under which the backup dump file will be stored.)  The function
    writes a backup label file into the database cluster's data directory,
    and then returns the backup's starting WAL offset as text.  (The user
    need not pay any attention to this result value, but it is provided in
    case it is of use.)
   </p>
<p>    <code class="function">pg_stop_backup</code> removes the label file created by
    <code class="function">pg_start_backup</code>, and instead creates a backup history file in
    the WAL archive area.  The history file includes the label given to
    <code class="function">pg_start_backup</code>, the starting and ending WAL offsets for
    the backup, and the starting and ending times of the backup.  The return
    value is the backup's ending WAL offset (which again may be of little
    interest).
   </p>
<p>    For details about proper usage of these functions, see
    <a href="backup-online.html" title="22.3. On-line backup and point-in-time recovery (PITR)">Section 22.3, &#8220;On-line backup and point-in-time recovery (PITR)&#8221;</a>.
   </p>
</div></body>
</html>
