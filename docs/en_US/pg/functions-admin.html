<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>9.20. System Administration Functions</title>
<link rel="stylesheet" href="stylesheet.css" type="text/css">
<link rev="made" href="pgsql-docs@postgresql.org">
<meta name="generator" content="DocBook XSL Stylesheets V1.64.1">
<link rel="home" href="index.html" title="PostgreSQL 8.0.2 Documentation">
<link rel="up" href="functions.html" title="Chapter 9. Functions and Operators">
<link rel="previous" href="functions-info.html" title="9.19. System Information Functions">
<link rel="next" href="typeconv.html" title="Chapter 10. Type Conversion">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="sect1" lang="en">
<div class="titlepage">
<div><div><h2 class="title" style="clear: both">
<a name="functions-admin"></a>9.20. System Administration Functions</h2></div></div>
<div></div>
</div>
<p>   <a href="functions-admin.html#functions-admin-set-table" title="Table 9.44. Configuration Settings Functions">Table 9.44, &#8220;Configuration Settings Functions&#8221;</a> shows the functions
   available to query and alter run-time configuration parameters.
  </p>
<div class="table">
<a name="functions-admin-set-table"></a><p class="title"><b>Table 9.44. Configuration Settings Functions</b></p>
<table summary="Configuration Settings Functions" border="1">
<colgroup>
<col>
<col>
<col>
</colgroup>
<thead><tr>
<th>Name</th>
<th>Return Type</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr>
<td><tt class="literal"><tt class="function">current_setting</tt>(<i class="parameter"><tt>setting_name</tt></i>)</tt></td>
<td><tt class="type">text</tt></td>
<td>current value of setting</td>
</tr>
<tr>
<td><tt class="literal"><tt class="function">set_config(<i class="parameter"><tt>setting_name</tt></i>, ,
                             <i class="parameter"><tt>new_value</tt></i>, ,
                             <i class="parameter"><tt>is_local</tt></i>)</tt></tt></td>
<td><tt class="type">text</tt></td>
<td>set parameter and return new value</td>
</tr>
</tbody>
</table>
</div>
<a name="id2566804"></a><a name="id2566814"></a><a name="id2566823"></a><p>    The function <tt class="function">current_setting</tt> yields the
    current value of the setting <i class="parameter"><tt>setting_name</tt></i>.
    It corresponds to the <span class="acronym">SQL</span> command
    <tt class="command">SHOW</tt>.  An example:
</p>
<pre class="programlisting">SELECT current_setting('datestyle');

 current_setting
-----------------
 ISO, MDY
(1 row)</pre>
<p>
   </p>
<p>    <tt class="function">set_config</tt> sets the parameter
    <i class="parameter"><tt>setting_name</tt></i> to
    <i class="parameter"><tt>new_value</tt></i>.  If
    <i class="parameter"><tt>is_local</tt></i> is <tt class="literal">true</tt>, the
    new value will only apply to the current transaction. If you want
    the new value to apply for the current session, use
    <tt class="literal">false</tt> instead. The function corresponds to the
    SQL command <tt class="command">SET</tt>. An example:
</p>
<pre class="programlisting">SELECT set_config('log_statement_stats', 'off', false);

 set_config
------------
 off
(1 row)</pre>
<p>
   </p>
<a name="id2566927"></a><a name="id2566936"></a><p>    The function shown in <a href="functions-admin.html#functions-admin-signal-table" title="Table 9.45. Backend Signalling Functions">Table 9.45, &#8220;Backend Signalling Functions&#8221;</a> sends control signals to
    other server processes.  Use of this function is restricted
    to superusers.
   </p>
<div class="table">
<a name="functions-admin-signal-table"></a><p class="title"><b>Table 9.45. Backend Signalling Functions</b></p>
<table summary="Backend Signalling Functions" border="1">
<colgroup>
<col>
<col>
<col>
</colgroup>
<thead><tr>
<th>Name</th>
<th>Return Type</th>
<th>Description</th>
</tr></thead>
<tbody><tr>
<td><tt class="literal"><tt class="function">pg_cancel_backend</tt>(<i class="parameter"><tt>pid</tt></i>)</tt></td>
<td><tt class="type">int</tt></td>
<td>Cancel a backend's current query</td>
</tr></tbody>
</table>
</div>
<p>    This function returns 1 if successful, 0 if not successful.
    The process ID (<tt class="literal">pid</tt>) of an active backend can be found
    from the <tt class="structfield">procpid</tt> column in the
    <tt class="structname">pg_stat_activity</tt> view, or by listing the <tt class="command">postgres</tt>
    processes on the server with <span class="application">ps</span>.
   </p>
<a name="id2567040"></a><a name="id2567049"></a><a name="id2567059"></a><p>    The functions shown in <a href="functions-admin.html#functions-admin-backup-table" title="Table 9.46. Backup Control Functions">Table 9.46, &#8220;Backup Control Functions&#8221;</a> assist in making on-line backups.
    Use of these functions is restricted to superusers.
   </p>
<div class="table">
<a name="functions-admin-backup-table"></a><p class="title"><b>Table 9.46. Backup Control Functions</b></p>
<table summary="Backup Control Functions" border="1">
<colgroup>
<col>
<col>
<col>
</colgroup>
<thead><tr>
<th>Name</th>
<th>Return Type</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr>
<td><tt class="literal"><tt class="function">pg_start_backup</tt>(<i class="parameter"><tt>label_text</tt></i>)</tt></td>
<td><tt class="type">text</tt></td>
<td>Set up for performing on-line backup</td>
</tr>
<tr>
<td><tt class="literal"><tt class="function">pg_stop_backup</tt>()</tt></td>
<td><tt class="type">text</tt></td>
<td>Finish performing on-line backup</td>
</tr>
</tbody>
</table>
</div>
<p>    <tt class="function">pg_start_backup</tt> accepts a single parameter which is an
    arbitrary user-defined label for the backup.  (Typically this would be
    the name under which the backup dump file will be stored.)  The function
    writes a backup label file into the database cluster's data directory,
    and then returns the backup's starting WAL offset as text.  (The user
    need not pay any attention to this result value, but it is provided in
    case it is of use.)
   </p>
<p>    <tt class="function">pg_stop_backup</tt> removes the label file created by
    <tt class="function">pg_start_backup</tt>, and instead creates a backup history file in
    the WAL archive area.  The history file includes the label given to
    <tt class="function">pg_start_backup</tt>, the starting and ending WAL offsets for
    the backup, and the starting and ending times of the backup.  The return
    value is the backup's ending WAL offset (which again may be of little
    interest).
   </p>
<p>    For details about proper usage of these functions, see
    <a href="backup-online.html" title="22.3. On-line backup and point-in-time recovery (PITR)">Section 22.3, &#8220;On-line backup and point-in-time recovery (PITR)&#8221;</a>.
   </p>
</div></body>
</html>
