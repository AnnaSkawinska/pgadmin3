<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML
><HEAD
><TITLE
>LIMIT and OFFSET</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK
REV="MADE"
HREF="mailto:pgsql-docs@postgresql.org"><LINK
REL="HOME"
TITLE="PostgreSQL 7.4beta4 Documentation"
HREF="index.html"><LINK
REL="UP"
TITLE="Queries"
HREF="queries.html"><LINK
REL="PREVIOUS"
TITLE="Sorting Rows"
HREF="queries-order.html"><LINK
REL="NEXT"
TITLE="Data Types"
HREF="datatype.html"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="stylesheet.css"><META
NAME="creation"
CONTENT="2003-10-03T03:19:47"></HEAD
><BODY
CLASS="SECT1"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="5"
ALIGN="center"
VALIGN="bottom"
>PostgreSQL 7.4beta4 Documentation</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
HREF="queries-order.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
HREF="queries.html"
>Fast Backward</A
></TD
><TD
WIDTH="60%"
ALIGN="center"
VALIGN="bottom"
>Chapter 7. Queries</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="top"
><A
HREF="queries.html"
>Fast Forward</A
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="top"
><A
HREF="datatype.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="QUERIES-LIMIT"
>7.6. LIMIT and OFFSET</A
></H1
><A
NAME="AEN3096"
></A
><A
NAME="AEN3098"
></A
><P
>   <VAR
CLASS="LITERAL"
>LIMIT</VAR
> and <VAR
CLASS="LITERAL"
>OFFSET</VAR
> allow you to retrieve just
   a portion of the rows that are generated by the rest of the query:
</P><PRE
CLASS="SYNOPSIS"
>SELECT <VAR
CLASS="REPLACEABLE"
>select_list</VAR
>
    FROM <VAR
CLASS="REPLACEABLE"
>table_expression</VAR
>
    [<SPAN
CLASS="OPTIONAL"
>LIMIT { <VAR
CLASS="REPLACEABLE"
>number</VAR
> | ALL }</SPAN
>] [<SPAN
CLASS="OPTIONAL"
>OFFSET <VAR
CLASS="REPLACEABLE"
>number</VAR
></SPAN
>]</PRE
><P>
  </P
><P
>   If a limit count is given, no more than that many rows will be
   returned (but possibly less, if the query itself yields less rows).
   <VAR
CLASS="LITERAL"
>LIMIT ALL</VAR
> is the same as omitting the <VAR
CLASS="LITERAL"
>LIMIT</VAR
>
   clause.
  </P
><P
>   <VAR
CLASS="LITERAL"
>OFFSET</VAR
> says to skip that many rows before beginning to
   return rows.  <VAR
CLASS="LITERAL"
>OFFSET 0</VAR
> is the same as
   omitting the <VAR
CLASS="LITERAL"
>OFFSET</VAR
> clause.  If both <VAR
CLASS="LITERAL"
>OFFSET</VAR
>
   and <VAR
CLASS="LITERAL"
>LIMIT</VAR
> appear, then <VAR
CLASS="LITERAL"
>OFFSET</VAR
> rows are
   skipped before starting to count the <VAR
CLASS="LITERAL"
>LIMIT</VAR
> rows that
   are returned.
  </P
><P
>   When using <VAR
CLASS="LITERAL"
>LIMIT</VAR
>, it is important to use an
   <VAR
CLASS="LITERAL"
>ORDER BY</VAR
> clause that constrains the result rows into a
   unique order.  Otherwise you will get an unpredictable subset of
   the query's rows. You may be asking for the tenth through
   twentieth rows, but tenth through twentieth in what ordering?  The
   ordering is unknown, unless you specified <VAR
CLASS="LITERAL"
>ORDER BY</VAR
>.
  </P
><P
>   The query optimizer takes <VAR
CLASS="LITERAL"
>LIMIT</VAR
> into account when
   generating a query plan, so you are very likely to get different
   plans (yielding different row orders) depending on what you give
   for <VAR
CLASS="LITERAL"
>LIMIT</VAR
> and <VAR
CLASS="LITERAL"
>OFFSET</VAR
>.  Thus, using
   different <VAR
CLASS="LITERAL"
>LIMIT</VAR
>/<VAR
CLASS="LITERAL"
>OFFSET</VAR
> values to select
   different subsets of a query result <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>will give
   inconsistent results</I
></SPAN
> unless you enforce a predictable
   result ordering with <VAR
CLASS="LITERAL"
>ORDER BY</VAR
>.  This is not a bug; it
   is an inherent consequence of the fact that SQL does not promise to
   deliver the results of a query in any particular order unless
   <VAR
CLASS="LITERAL"
>ORDER BY</VAR
> is used to constrain the order.
  </P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="queries-order.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="datatype.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Sorting Rows</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="queries.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Data Types</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>