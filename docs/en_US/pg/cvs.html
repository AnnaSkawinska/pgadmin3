<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Appendix F. The CVS Repository</title>
<link rel="stylesheet" href="stylesheet.css" type="text/css">
<link rev="made" href="pgsql-docs@postgresql.org">
<meta name="generator" content="DocBook XSL Stylesheets V1.64.1">
<link rel="home" href="index.html" title="PostgreSQL 8.0.2 Documentation">
<link rel="up" href="appendixes.html" title="Part VIII. Appendixes">
<link rel="previous" href="release-0-01.html" title="E.58. Postgres95 Release 0.01">
<link rel="next" href="cvs-tree.html" title="F.2. CVS Tree Organization">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="appendix" lang="en" id="cvs">
<div class="titlepage">
<div>
<div><h2 class="title">
<a name="cvs"></a>Appendix F. The <span class="productname">CVS</span> Repository</h2></div>
<div><div class="authorgroup">
<div class="author"><h3 class="author">
<span class="firstname">Marc</span> <span class="surname">Fournier</span>
</h3></div>
<div class="author"><h3 class="author">
<span class="firstname">Tom</span> <span class="surname">Lane</span>
</h3></div>
<div class="author"><h3 class="author">
<span class="firstname">Thomas</span> <span class="surname">Lockhart</span>
</h3></div>
</div></div>
</div>
<div></div>
</div>
<div class="toc">
<p><b>Table of Contents</b></p>
<dl>
<dt><span class="sect1"><a href="cvs.html#anoncvs">F.1. Getting The Source Via Anonymous CVS</a></span></dt>
<dt><span class="sect1"><a href="cvs-tree.html">F.2. CVS Tree Organization</a></span></dt>
<dt><span class="sect1"><a href="cvsup.html">F.3. Getting The Source Via CVSup</a></span></dt>
<dd><dl>
<dt><span class="sect2"><a href="cvsup.html#id2784504">F.3.1. Preparing A CVSup Client System</a></span></dt>
<dt><span class="sect2"><a href="cvsup.html#id2784636">F.3.2. Running a CVSup Client</a></span></dt>
<dt><span class="sect2"><a href="cvsup.html#id2784840">F.3.3. Installing CVSup</a></span></dt>
<dt><span class="sect2"><a href="cvsup.html#id2785029">F.3.4. Installation from Sources</a></span></dt>
</dl></dd>
</dl>
</div>
<p>  The <span class="productname">PostgreSQL</span> source code is stored and managed using the
  <span class="productname">CVS</span> code management system.
 </p>
<p>  At least two methods,
  anonymous CVS and <span class="productname">CVSup</span>,
  are available to pull the <span class="productname">CVS</span> code tree from the
  <span class="productname">PostgreSQL</span> server to your local machine.
 </p>
<div class="sect1" lang="en">
<div class="titlepage">
<div><div><h2 class="title" style="clear: both">
<a name="anoncvs"></a>F.1. Getting The Source Via Anonymous <span class="productname">CVS</span></h2></div></div>
<div></div>
</div>
<p>   If you would like to keep up with the current sources on a regular
   basis, you can fetch them from our <span class="productname">CVS</span> server
   and then use <span class="productname">CVS</span> to
   retrieve updates from time to time.
  </p>
<div class="procedure">
<p class="title"><b>Anonymous CVS</b></p>
<ol type="1">
<li><p>     You will need a local copy of <span class="productname">CVS</span>
     (Concurrent Version Control System), which you can get from
     <a href="http://www.cvshome.org/" target="_top">http://www.cvshome.org/</a>
     (the official site with the latest version) or any GNU software
     archive site (often somewhat outdated). We recommend version 1.10
     or newer. Many systems have a recent version of
     <span class="application">cvs</span> installed by default.
    </p></li>
<li>
<p>     Do an initial login to the <span class="productname">CVS</span> server:

     </p>
<pre class="programlisting">cvs -d :pserver:anoncvs@anoncvs.postgresql.org:/projects/cvsroot login
     </pre>
<p>

     You will be prompted for a password; you can enter anything except
     an empty string.
    </p>
<p>     You should only need to do this once, since the password will be
     saved in <tt class="literal">.cvspass</tt> in your home directory.
    </p>
</li>
<li>
<p>     Fetch the <span class="productname">PostgreSQL</span> sources:
     </p>
<pre class="programlisting">cvs -z3 -d :pserver:anoncvs@anoncvs.postgresql.org:/projects/cvsroot co -P pgsql
     </pre>
<p>

     This installs the <span class="productname">PostgreSQL</span> sources into a
     subdirectory <tt class="filename">pgsql</tt>
     of the directory you are currently in.

     </p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Note</h3>
<p>       If you have a fast link to the Internet, you may not need
       <tt class="option">-z3</tt>, which instructs
       <span class="productname">CVS</span> to use gzip compression for transferred data.  But
       on a modem-speed link, it's a very substantial win.
      </p>
</div>
<p>
    </p>
<p>     This initial checkout is a little slower than simply downloading
     a <tt class="filename">tar.gz</tt> file; expect it to take 40 minutes or so if you
     have a 28.8K modem.  The advantage of
     <span class="productname">CVS</span>
     doesn't show up until you want to update the file set later on.
    </p>
</li>
<li>
<p>     Whenever you want to update to the latest <span class="productname">CVS</span> sources,
     <tt class="command">cd</tt> into
     the <tt class="filename">pgsql</tt> subdirectory, and issue
     </p>
<pre class="programlisting">$ cvs -z3 update -d -P
     </pre>
<p>

     This will fetch only the changes since the last time you updated.
     You can update in just a couple of minutes, typically, even over
     a modem-speed line.
    </p>
</li>
<li>
<p>     You can save yourself some typing by making a file <tt class="filename">.cvsrc</tt>
     in your home directory that contains

     </p>
<pre class="programlisting">cvs -z3
update -d -P
     </pre>
<p>

     This supplies the <tt class="option">-z3</tt> option to all cvs commands, and the
     <tt class="option">-d</tt> and <tt class="option">-P</tt> options to cvs update.  Then you just have
     to say
     </p>
<pre class="programlisting">$ cvs update
     </pre>
<p>

     to update your files.
    </p>
</li>
</ol>
</div>
<div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Caution</h3>
<p>    Some older versions of <span class="productname">CVS</span> have a bug that
    causes all checked-out files to be stored world-writable in your
    directory.  If you see that this has happened, you can do something like
    </p>
<pre class="programlisting">$ chmod -R go-w pgsql
    </pre>
<p>
    to set the permissions properly.
    This bug is fixed as of
    <span class="productname">CVS</span> version 1.9.28.
   </p>
</div>
<p>   <span class="productname">CVS</span> can do a lot of other things,
   such as fetching prior revisions
   of the <span class="productname">PostgreSQL</span> sources
   rather than the latest development version.
   For more info consult the manual that comes with
   <span class="productname">CVS</span>, or see the online
   documentation at
   <a href="http://www.cvshome.org/" target="_top">http://www.cvshome.org/</a>.
  </p>
</div>
</div></body>
</html>
