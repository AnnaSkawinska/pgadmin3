<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>SET SESSION AUTHORIZATION</title>
<link rel="stylesheet" href="stylesheet.css" type="text/css">
<link rev="made" href="pgsql-docs@postgresql.org">
<meta name="generator" content="DocBook XSL Stylesheets V1.64.1">
<link rel="home" href="index.html" title="PostgreSQL 8.1devel Documentation">
<link rel="up" href="sql-commands.html" title="SQL Commands">
<link rel="previous" href="sql-set-constraints.html" title="SET CONSTRAINTS">
<link rel="next" href="sql-set-transaction.html" title="SET TRANSACTION">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="refentry" lang="en">
<a name="sql-set-session-authorization"></a><div class="titlepage">
<div></div>
<div></div>
</div>
<div class="refnamediv">
<h2>Name</h2>
<p>SET SESSION AUTHORIZATION &#8212; set the session user identifier and the current user identifier of the current session</p>
</div>
<a name="id2702661"></a><div class="refsynopsisdiv">
<h2>Synopsis</h2>
<pre class="synopsis">SET [ SESSION | LOCAL ] SESSION AUTHORIZATION <i class="replaceable"><tt>username</tt></i>
SET [ SESSION | LOCAL ] SESSION AUTHORIZATION DEFAULT
RESET SESSION AUTHORIZATION</pre>
</div>
<div class="refsect1" lang="en">
<a name="id2702682"></a><h2>Description</h2>
<p>   This command sets the session user identifier and the current user
   identifier of the current SQL-session context to be <i class="replaceable"><tt>username</tt></i>.  The user name may be
   written as either an identifier or a string literal.  Using this
   command, it is possible, for example, to temporarily become an
   unprivileged user and later switch back to become a superuser.
  </p>
<p>   The session user identifier is initially set to be the (possibly
   authenticated) user name provided by the client.  The current user
   identifier is normally equal to the session user identifier, but
   may change temporarily in the context of &#8220;<span class="quote">setuid</span>&#8221;
   functions and similar mechanisms.  The current user identifier is
   relevant for permission checking.
  </p>
<p>   The session user identifier may be changed only if the initial session
   user (the <i class="firstterm">authenticated user</i>) had the
   superuser privilege.  Otherwise, the command is accepted only if it
   specifies the authenticated user name.
  </p>
<p>   The <tt class="literal">SESSION</tt> and <tt class="literal">LOCAL</tt> modifiers act the same
   as for the regular <a href="sql-set.html">SET</a>
   command.
  </p>
<p>   The <tt class="literal">DEFAULT</tt> and <tt class="literal">RESET</tt> forms reset the session
   and current user identifiers to be the originally authenticated user
   name.  These forms may be executed by any user.
  </p>
</div>
<div class="refsect1" lang="en">
<a name="id2702755"></a><h2>Examples</h2>
<pre class="programlisting">SELECT SESSION_USER, CURRENT_USER;

 session_user | current_user 
--------------+--------------
 peter        | peter

SET SESSION AUTHORIZATION 'paul';

SELECT SESSION_USER, CURRENT_USER;

 session_user | current_user 
--------------+--------------
 paul         | paul</pre>
</div>
<div class="refsect1" lang="en">
<a name="id2702767"></a><h2>Compatibility</h2>
<p>   The SQL standard allows some other expressions to appear in place
   of the literal <i class="replaceable"><tt>username</tt></i> which are not
   important in practice.  <span class="productname">PostgreSQL</span>
   allows identifier syntax (<tt class="literal">"username"</tt>), which SQL
   does not.  SQL does not allow this command during a transaction;
   <span class="productname">PostgreSQL</span> does not make this
   restriction because there is no reason to.  The privileges
   necessary to execute this command are left implementation-defined
   by the standard.
  </p>
</div>
</div></body>
</html>
