<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>G.2. Tool Sets</title>
<link rel="stylesheet" href="stylesheet.css" type="text/css">
<link rev="made" href="pgsql-docs@postgresql.org">
<meta name="generator" content="DocBook XSL Stylesheets V1.64.1">
<link rel="home" href="index.html" title="PostgreSQL 8.1devel Documentation">
<link rel="up" href="docguide.html" title="Appendix G. Documentation">
<link rel="previous" href="docguide.html" title="Appendix G. Documentation">
<link rel="next" href="docguide-build.html" title="G.3. Building The Documentation">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="sect1" lang="en">
<div class="titlepage">
<div><div><h2 class="title" style="clear: both">
<a name="docguide-toolsets"></a>G.2. Tool Sets</h2></div></div>
<div></div>
</div>
<p>   The following tools are used to process the documentation.  Some
   may be optional, as noted.

   </p>
<div class="variablelist"><dl>
<dt><span class="term"><a href="http://www.oasis-open.org/docbook/sgml/" target="_top">DocBook DTD</a></span></dt>
<dd><p>       This is the definition of DocBook itself.  We currently use
       version 4.2; you cannot use later or earlier versions.  Note
       that there is also an <span class="acronym">XML</span> version of DocBook
       [mdash ] do not use that.
      </p></dd>
<dt><span class="term"><a href="http://www.oasis-open.org/cover/ISOEnts.zip" target="_top">ISO 8879 character entities</a></span></dt>
<dd><p>       These are required by DocBook but are distributed separately
       because they are maintained by ISO.
      </p></dd>
<dt><span class="term"><a href="http://openjade.sourceforge.net" target="_top">OpenJade</a></span></dt>
<dd><p>       This is the base package of <span class="acronym">SGML</span> processing.
       It contains an <span class="acronym">SGML</span> parser, a
       <span class="acronym">DSSSL</span> processor (that is, a program to
       convert <span class="acronym">SGML</span> to other formats using
       <span class="acronym">DSSSL</span> stylesheets), as well as a number of
       related tools.  <span class="productname">Jade</span> is now being
       maintained by the OpenJade group, no longer by James Clark.
      </p></dd>
<dt><span class="term"><a href="http://docbook.sourceforge.net/projects/dsssl/index.html" target="_top">DocBook DSSSL Stylesheets</a></span></dt>
<dd><p>       These contain the processing instructions for converting the
       DocBook sources to other formats, such as
       <span class="acronym">HTML</span>.
      </p></dd>
<dt><span class="term"><a href="http://docbook2x.sourceforge.net" target="_top">DocBook2X tools</a></span></dt>
<dd><p>       This optional package is used to create man pages.  It has a
       number of prerequisite packages of its own.  Check the web
       site.
      </p></dd>
<dt><span class="term"><a href="http://jadetex.sourceforge.net" target="_top">JadeTeX</a></span></dt>
<dd>
<p>       If you want to, you can also install
       <span class="productname">JadeTeX</span> to use
       <span class="productname">TeX</span> as a formatting backend for
       <span class="productname">Jade</span>.
       <span class="application">JadeTeX</span> can create Postscript or
       <span class="acronym">PDF</span> files (the latter with bookmarks).
      </p>
<p>       However, the output from <span class="application">JadeTeX</span> is
       inferior to what you get from the <span class="acronym">RTF</span>
       backend.  Particular problem areas are tables and various
       artifacts of vertical and horizontal spacing.  Also, there is
       no opportunity to manually polish the results.
      </p>
</dd>
</dl></div>
<p>
  </p>
<p>   We have documented experience with several installation methods for
   the various tools that are needed to process the documentation.
   These will be described below.  There may be some other packaged
   distributions for these tools. Please report package status to the
   documentation mailing list, and we will include that information
   here.
  </p>
<div class="sect2" lang="en">
<div class="titlepage">
<div><div><h3 class="title">
<a name="id2784314"></a>G.2.1. <span class="productname">Linux</span> <span class="acronym">RPM</span> Installation</h3></div></div>
<div></div>
</div>
<p>    Most vendors provide a complete RPM set for DocBook processing in
    their distribution.  Look for an &#8220;<span class="quote">SGML</span>&#8221; option while
    installing, or the following packages:
    <tt class="filename">sgml-common</tt>, <tt class="filename">docbook</tt>,
    <tt class="filename">stylesheets</tt>, <tt class="filename">openjade</tt>
    (or <tt class="filename">jade</tt>).  Possibly
    <tt class="filename">sgml-tools</tt> will be needed as well.  If your
    distributor does not provide these then you should be able to make
    use of the packages from some other, reasonably compatible vendor.
   </p>
</div>
<div class="sect2" lang="en">
<div class="titlepage">
<div><div><h3 class="title">
<a name="id2784372"></a>G.2.2. FreeBSD Installation</h3></div></div>
<div></div>
</div>
<p>    The FreeBSD Documentation Project is itself a heavy user of
    DocBook, so it comes as no surprise that there is a full set of
    &#8220;<span class="quote">ports</span>&#8221; of the documentation tools available on
    FreeBSD.  The following ports need to be installed to build the
    documentation on FreeBSD.
    </p>
<div class="itemizedlist"><ul type="disc">
<li><p><tt class="filename">textproc/sp</tt></p></li>
<li><p><tt class="filename">textproc/openjade</tt></p></li>
<li><p><tt class="filename">textproc/iso8879</tt></p></li>
<li><p><tt class="filename">textproc/dsssl-docbook-modular</tt></p></li>
</ul></div>
<p>
    Apparently, there is no port for the DocBook V4.2 SGML DTD
    available right now.  You will need to install it manually.
   </p>
<p>    A number of things from <tt class="filename">/usr/ports/print</tt>
    (<tt class="filename">tex</tt>, <tt class="filename">jadetex</tt>) might
    also be of interest.
   </p>
<p>    It's possible that the ports do not update the main catalog file
    in <tt class="filename">/usr/local/share/sgml/catalog</tt>.  Be sure to
    have the following line in there:
</p>
<pre class="programlisting">CATALOG "/usr/local/share/sgml/docbook/4.2/docbook.cat"</pre>
<p>
    If you do not want to edit the file you can also set the
    environment variable <tt class="envar">SGML_CATALOG_FILES</tt> to a
    colon-separated list of catalog files (such as the one above).
   </p>
<p>    More information about the FreeBSD documentation tools can be
    found in the <a href="http://www.freebsd.org/doc/en_US.ISO8859-1/books/fdp-primer/tools.html" target="_top">FreeBSD
    Documentation Project's instructions</a>.
   </p>
</div>
<div class="sect2" lang="en">
<div class="titlepage">
<div><div><h3 class="title">
<a name="id2784476"></a>G.2.3. Debian Packages</h3></div></div>
<div></div>
</div>
<p>    There is a full set of packages of the documentation tools
    available for <span class="productname">Debian GNU/Linux</span>.
    To install, simply use:
</p>
<pre class="programlisting">apt-get install jade
apt-get install docbook
apt-get install docbook-stylesheets</pre>
<p>
   </p>
</div>
<div class="sect2" lang="en">
<div class="titlepage">
<div><div><h3 class="title">
<a name="id2784496"></a>G.2.4. Manual Installation from Source</h3></div></div>
<div></div>
</div>
<p>    The manual installation process of the DocBook tools is somewhat
    complex, so if you have pre-built packages available, use them.
    We describe here only a standard setup, with reasonably standard
    installation paths, and no &#8220;<span class="quote">fancy</span>&#8221; features.  For
    details, you should study the documentation of the respective
    package, and read <span class="acronym">SGML</span> introductory material.
   </p>
<div class="sect3" lang="en">
<div class="titlepage">
<div><div><h4 class="title">
<a name="id2784516"></a>G.2.4.1. Installing OpenJade</h4></div></div>
<div></div>
</div>
<div class="procedure"><ol type="1">
<li>
<p>        The installation of OpenJade offers a GNU-style
        <tt class="literal">./configure; make; make install</tt> build
        process.  Details can be found in the OpenJade source
        distribution. In a nutshell:
</p>
<pre class="synopsis">./configure --enable-default-catalog=/usr/local/share/sgml/catalog
make
make install</pre>
<p>
        Be sure to remember where you put the &#8220;<span class="quote">default
        catalog</span>&#8221;; you will need it below.  You can also leave
        it off, but then you will have to set the environment variable
        <tt class="envar">SGML_CATALOG_FILES</tt> to point to the file
        whenever you use <span class="application">jade</span> later on.
        (This method is also an option if OpenJade is already
        installed and you want to install the rest of the toolchain
        locally.)
       </p>
</li>
<li>
<a name="doc-openjade-install"></a><p>        Additionally, you should install the files
        <tt class="filename">dsssl.dtd</tt>, <tt class="filename">fot.dtd</tt>,
        <tt class="filename">style-sheet.dtd</tt>, and
        <tt class="filename">catalog</tt> from the
        <tt class="filename">dsssl</tt> directory somewhere, perhaps into
        <tt class="filename">/usr/local/share/sgml/dsssl</tt>.  It's
        probably easiest to copy the entire directory:
</p>
<pre class="synopsis">cp -R dsssl /usr/local/share/sgml</pre>
<p>
       </p>
</li>
<li>
<p>        Finally, create the file
        <tt class="filename">/usr/local/share/sgml/catalog</tt> and add
        this line to it:
</p>
<pre class="programlisting">CATALOG "dsssl/catalog"</pre>
<p>
        (This is a relative path reference to the file installed in
        <a href="docguide-toolsets.html#doc-openjade-install">Step 2</a>.  Be sure to adjust it
        if you chose your installation layout differently.)
       </p>
</li>
</ol></div>
</div>
<div class="sect3" lang="en">
<div class="titlepage">
<div><div><h4 class="title">
<a name="id2784648"></a>G.2.4.2. Installing the <span class="productname">DocBook</span> <span class="acronym">DTD</span> Kit</h4></div></div>
<div></div>
</div>
<div class="procedure"><ol type="1">
<li><p>       Obtain the <a href="http://www.docbook.org/sgml/4.2/docbook-4.2.zip" target="_top">DocBook
       V4.2</a> distribution.
      </p></li>
<li>
<p>       Create the directory
       <tt class="filename">/usr/local/share/sgml/docbook-4.2</tt> and change
       to it. (The exact location is irrelevant, but this one is
       reasonable within the layout we are following here.)
</p>
<pre class="screen"><tt class="prompt">$ </tt><b class="userinput"><tt>mkdir /usr/local/share/sgml/docbook-4.2</tt></b>
<tt class="prompt">$ </tt><b class="userinput"><tt>cd /usr/local/share/sgml/docbook-4.2</tt></b></pre>
<p>
      </p>
</li>
<li>
<p>       Unpack the archive.
</p>
<pre class="screen"><tt class="prompt">$ </tt><b class="userinput"><tt>unzip -a ...../docbook-4.2.zip</tt></b></pre>
<p>
       (The archive will unpack its files into the current directory.)
      </p>
</li>
<li>
<p>       Edit the file
       <tt class="filename">/usr/local/share/sgml/catalog</tt> (or whatever
       you told jade during installation) and put a line like this
       into it:
</p>
<pre class="programlisting">CATALOG "docbook-4.2/docbook.cat"</pre>
<p>
      </p>
</li>
<li>
<p>       Download the <a href="http://www.oasis-open.org/cover/ISOEnts.zip" target="_top">ISO 8879
       character entities</a> archive, unpack it, and put the
       files in the same directory you put the DocBook files in.
</p>
<pre class="screen"><tt class="prompt">$ </tt><b class="userinput"><tt>cd /usr/local/share/sgml/docbook-4.2</tt></b>
<tt class="prompt">$ </tt><b class="userinput"><tt>unzip ...../ISOEnts.zip</tt></b></pre>
<p>
      </p>
</li>
<li>
<p>       Run the following command in the directory with the DocBook and ISO files:
</p>
<pre class="programlisting">perl -pi -e 's/iso-(.*).gml/ISO\1/g' docbook.cat</pre>
<p>
       (This fixes a mixup between the names used in the DocBook
       catalog file and the actual names of the ISO character entity
       files.)
      </p>
</li>
</ol></div>
</div>
<div class="sect3" lang="en">
<div class="titlepage">
<div><div><h4 class="title">
<a name="id2784811"></a>G.2.4.3. Installing the DocBook <span class="acronym">DSSSL</span> Style Sheets</h4></div></div>
<div></div>
</div>
<p>     To install the style sheets, unzip and untar the distribution and
     move it to a suitable place, for example
     <tt class="filename">/usr/local/share/sgml</tt>.  (The archive will
     automatically create a subdirectory.)
</p>
<pre class="screen"><tt class="prompt">$</tt> <b class="userinput"><tt>gunzip docbook-dsssl-1.<i class="replaceable"><tt>xx</tt></i>.tar.gz</tt></b>
<tt class="prompt">$</tt> <b class="userinput"><tt>tar -C /usr/local/share/sgml -xf docbook-dsssl-1.<i class="replaceable"><tt>xx</tt></i>.tar</tt></b></pre>
<p>
    </p>
<p>     The usual catalog entry in
     <tt class="filename">/usr/local/share/sgml/catalog</tt> can also be
     made:
</p>
<pre class="programlisting">CATALOG "docbook-dsssl-1.<i class="replaceable"><tt>xx</tt></i>/catalog</pre>
<p>
     Because stylesheets change rather often, and it's sometimes
     beneficial to try out alternative versions,
     <span class="productname">PostgreSQL</span> doesn't use this catalog
     entry.  See <a href="docguide-toolsets.html#docguide-toolsets-configure" title="G.2.5. Detection by configure">Section G.2.5, &#8220;Detection by configure&#8221;</a> for
     information about how to select the stylesheets instead.
    </p>
</div>
<div class="sect3" lang="en">
<div class="titlepage">
<div><div><h4 class="title">
<a name="id2784902"></a>G.2.4.4. Installing <span class="productname">JadeTeX</span></h4></div></div>
<div></div>
</div>
<p>     To install and use <span class="productname">JadeTeX</span>, you will
     need a working installation of <span class="productname">TeX</span> and
     <span class="productname">LaTeX2e</span>, including the supported
     <span class="productname">tools</span> and
     <span class="productname">graphics</span> packages,
     <span class="productname">Babel</span>,
     <span class="productname"><span class="acronym">AMS</span> fonts</span> and
     <span class="productname">AMS-LaTeX</span>, the
     <span class="productname"><span class="acronym">PSNFSS</span></span> extension
     and companion kit of &#8220;<span class="quote">the 35 fonts</span>&#8221;, the
     <span class="productname">dvips</span> program for generating
     <span class="productname">PostScript</span>, the macro packages
     <span class="productname">fancyhdr</span>,
     <span class="productname">hyperref</span>,
     <span class="productname">minitoc</span>,
     <span class="productname">url</span> and
     <span class="productname">ot2enc</span>.  All of these can be found on
     your friendly neighborhood <a href="http://www.ctan.org" target="_top"><span class="acronym">CTAN</span></a> site.
     The installation of the <span class="application">TeX</span> base
     system is far beyond the scope of this introduction.  Binary
     packages should be available for any system that can run
     <span class="application">TeX</span>.
    </p>
<p>     Before you can use <span class="application">JadeTeX</span> with the
     <span class="productname">PostgreSQL</span> documentation sources, you
     will need to increase the size of
     <span class="application">TeX</span>'s internal data structures.
     Details on this can be found in the <span class="application">JadeTeX</span>
     installation instructions.
    </p>
<p>     Once that is finished you can install <span class="application">JadeTeX</span>:
</p>
<pre class="screen"><tt class="prompt">$</tt> <b class="userinput"><tt>gunzip jadetex-<i class="replaceable"><tt>xxx</tt></i>.tar.gz</tt></b>
<tt class="prompt">$</tt> <b class="userinput"><tt>tar xf jadetex-<i class="replaceable"><tt>xxx</tt></i>.tar</tt></b>
<tt class="prompt">$</tt> <b class="userinput"><tt>cd jadetex</tt></b>
<tt class="prompt">$</tt> <b class="userinput"><tt>make install</tt></b>
<tt class="prompt">$</tt> <b class="userinput"><tt>mktexlsr</tt></b></pre>
<p>
     The last two need to be done as <span class="systemitem">root</span>.
    </p>
</div>
</div>
<div class="sect2" lang="en">
<div class="titlepage">
<div><div><h3 class="title">
<a name="docguide-toolsets-configure"></a>G.2.5. Detection by <tt class="command">configure</tt></h3></div></div>
<div></div>
</div>
<p>   Before you can build the documentation you need to run the
   <tt class="filename">configure</tt> script as you would when building
   the <span class="productname">PostgreSQL</span> programs themselves.
   Check the output near the end of the run, it should look something
   like this:
</p>
<pre class="screen"><tt class="computeroutput">checking for onsgmls... onsgmls
checking for openjade... openjade
checking for DocBook V4.2... yes
checking for DocBook stylesheets... /usr/lib/sgml/stylesheets/nwalsh-modular
checking for sgmlspl... sgmlspl</tt></pre>
<p>
   If neither <tt class="filename">onsgmls</tt> nor
   <tt class="filename">nsgmls</tt> were found then you will not see the
   remaining 4 lines.  <tt class="filename">nsgmls</tt> is part of the Jade
   package.  If &#8220;<span class="quote">DocBook V4.2</span>&#8221; was not found then you did
   not install the DocBook DTD kit in a place where jade can find it,
   or you have not set up the catalog files correctly.  See the
   installation hints above.  The DocBook stylesheets are looked for
   in a number of relatively standard places, but if you have them
   some other place then you should set the environment variable
   <tt class="envar">DOCBOOKSTYLE</tt> to the location and rerun
   <tt class="filename">configure</tt> afterwards.
  </p>
</div>
</div></body>
</html>
