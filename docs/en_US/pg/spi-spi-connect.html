<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>SPI_connect</title>
<link rel="stylesheet" href="stylesheet.css" type="text/css">
<link rev="made" href="pgsql-docs@postgresql.org">
<meta name="generator" content="DocBook XSL Stylesheets V1.64.1">
<link rel="home" href="index.html" title="PostgreSQL 8.1devel Documentation">
<link rel="up" href="spi.html#spi-interface" title="39.1. Interface Functions">
<link rel="previous" href="spi.html" title="Chapter 39. Server Programming Interface">
<link rel="next" href="spi-spi-finish.html" title="SPI_finish">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="refentry" lang="en">
<a name="spi-spi-connect"></a><div class="titlepage">
<div></div>
<div></div>
</div>
<div class="refnamediv">
<h2>Name</h2>
<p>SPI_connect &#8212; connect a procedure to the SPI manager</p>
</div>
<a name="id2658133"></a><div class="refsynopsisdiv">
<h2>Synopsis</h2>
<pre class="synopsis">int SPI_connect(void)</pre>
</div>
<div class="refsect1" lang="en">
<a name="id2658145"></a><h2>Description</h2>
<p>   <tt class="function">SPI_connect</tt> opens a connection from a
   procedure invocation to the SPI manager.  You must call this
   function if you want to execute commands through SPI.  Some utility
   SPI functions may be called from unconnected procedures.
  </p>
<p>   If your procedure is already connected,
   <tt class="function">SPI_connect</tt> will return the error code
   <span class="returnvalue">SPI_ERROR_CONNECT</span>.  This could happen if
   a procedure that has called <tt class="function">SPI_connect</tt>
   directly calls another procedure that calls
   <tt class="function">SPI_connect</tt>.  While recursive calls to the
   <span class="acronym">SPI</span> manager are permitted when an SQL command
   called through SPI invokes another function that uses
   <span class="acronym">SPI</span>, directly nested calls to
   <tt class="function">SPI_connect</tt> and
   <tt class="function">SPI_finish</tt> are forbidden.
   (But see <tt class="function">SPI_push</tt> and <tt class="function">SPI_pop</tt>.)
  </p>
</div>
<div class="refsect1" lang="en">
<a name="id2658220"></a><h2>Return Value</h2>
<div class="variablelist"><dl>
<dt><span class="term"><tt class="symbol">SPI_OK_CONNECT</tt></span></dt>
<dd><p>      on success
     </p></dd>
<dt><span class="term"><tt class="symbol">SPI_ERROR_CONNECT</tt></span></dt>
<dd><p>      on error
     </p></dd>
</dl></div>
</div>
</div></body>
</html>
