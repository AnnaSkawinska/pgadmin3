<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="STYLESHEET" type="text/css" href="pgadmin3.css">
<title>Úkoly pgAgenta</title>
</head>

<body>

<h3>Úkoly pgAgenta</h3>

<p>
pgAgent spouští úkoly. Ty se skládají z <a href="pgagent-steps.html">kroků</a> a <a href="pgagent-schedules.html">plánů</a>. Když chcete nastavit 
úkoly, musíte to provést na serveru, na kterém byl vytvořený databázový objekt pgAgenta. V hlavní úrovni najdete uzel „Úkoly“, pod kterým jsou 
zobrazené jednotlivé úkoly. Vytvářet nové úkoly a upravovat stávající můžete v pgAdminu stejně jako kterékoliv jiné objekty.
</p>

<p><center><img src="images/pgagent-jobdetails.png" alt="Job details"></center></p>

<p>
Na kartě „Vlastnosti“ v hlavním okně pgAdmina se zobrazují detaily o vybraném úkolu a na kartě „Statistiky“ detaily o každém spuštění úkolu.
</p>

<p><center><img src="images/pgagent-jobstats.png" alt="Job statistics"></center></p>

<p>
Úkol sám o sobě je velmi jednoduchý, komplexnost je v krocích a plánech. Ve vlastnostech úkolu se nastavuje jeho název, zda je povolený nebo 
zakázaný, třída nebo kategorie a volitelně hostitel s běžícím pgAgent, pokud se má úkol spouštět jen na něm. Pokud hostitele neurčíte 
(což je normální případ), tak může úkol spustit libovolný server. Pro úkoly obsahující pouze SQL nebývá omezení zapotřebí, avšak pokud se jedná 
o dávky shellu, může být omezení na určitý specifický server nutné. Poslední z věcí, kterou lze u úkolu zadat, je komentář.
</p>

<p>
<b>Upozornění:</b> Nemusí být vždy zřejmé, jakou hodnotu zadat do „Hostitelský agent“. Pokud na požadovaném stroji běží pgAgent a jste připojení 
k databázi s plány, můžete zjisti názvy hostitelů pro každého agenta následujícím dotazem:
</p>

<p><i>SELECT jagstation FROM pgagent.pga_jobagent</i></p>

<p>Název hostitele zadejte přesně tak, jak se objeví v poli „Host Agent“.</p>

<p><center><img src="images/pgagent-jobproperties.png" alt="Job properties"></center></p>

</body>
</html>
