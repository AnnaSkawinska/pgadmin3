<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="STYLESHEET" type="text/css" href="pgadmin3.css">
<title>Plány pgAgenta</title>
</head>

<body>

<h3>Plány pgAgenta</h3>

<p>
Každý úkol se spouští podle jednoho nebo více plánů. Při každé změně úkolu nebo jeho plánů se znovu určí doba příštího spuštění. Každá instance 
pgAgenta pravidelně kontroluje databázi úkolů, jestli už nenastala doba spuštění některého úkolu. Pokud se kontroluje každou minutu, budou úkoly 
spouštěné do jedné minuty od zadaného času. Pokud časy spuštění nastaly v době, kdy neběžel pgAgent, spustí se úkol jednou při nejbližším spuštění 
pgAgenta a po té se navrátí do normálního režimu plánování.
</p>

<p>
Plány můžet do úkolu přidávat buď přes jeho dialog vlastností nebo jak subobjekt ve stromu objektů. Karta <i>Vlastnosti</i> v hlavním okně pgAdminu 
zobrazuje detaily o vybraném plánu.
</p>

<p><center><img src="images/pgagent-scheduleproperties.png" alt="Schedule properties"></center></p>

<p>
Ke každému plánu se zadávají základní údaje jako je název, zda je povolený a komentář. Navíc datum a čas „Začít“, od kdy plán platí (před ním nemá 
plán žádný efekt) a datum a čas „Skončit“, do kterého plán platí (po něm již nemá plán žádný efekt).
</p>

<p><center><img src="images/pgagent-scheduledetails1.png" alt="Step details - properties tab"></center></p>

<p>
Plány se zadávají ve stylu formátu programu cron. Plán se spustí pro každý zadaný čas nebo datum. Např. pokud chcete, aby se plán spouštěl každou 
hodinu pět minut po celé, jednoduše zvolte „5“ v seznamu „<i>Minuty</i>“ na kartě „<i>Časy</i>“. Můžete zvolit i hodnoty z více polí. Např. aby se 
plán spouštěl vždy v 12:05 a 14:05 každé pondělí a úterý, musíte zvolit „5“ v seznamu „<i>Minuty</i>“ a „12“ a „14“ v seznamu „<i>Hodiny</i>“ na 
kartě „<i>Časy</i>“ a k tomu „pondělí“ a „úterý“ v seznamu „<i>Dny v týdnu</i>“ na kartě „<i>Dny</i>“. Pro lepší flexibilitu obsahuje seznam 
„<i>Dny v měsíci</i>“ speciální den „poslední den“, který odpovídá vždy poslednímu dni v měsíci, tj. 28., 29., 30. a 31. podle měsíce.
</p>

<p><center><img src="images/pgagent-scheduledetails2.png" alt="Step details - days & times tabs"></center></p>

<p>
Někdy může být žádoucí zadat i nějakou výjimku v plánu, např. budete chtít vynechat spuštění ve státní svátek. K tomu má každý plán seznam dat 
a/nebo časů na kartě „<i>Výjimky</i>“. Pokud spuštění plánu připadne na výjimku, tak se přeskočí a bude se čekat na další plánované spuštění.
</p>

<p><center><img src="images/pgagent-scheduledetails3.png" alt="Step details - exceptions tab"></center></p>

</body>
</html>
