<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<link rel="STYLESHEET" type="text/css" href="pgadmin3.css">
<title>Créer des ensembles et des abonnements</title>
</head>

<body>
<h3>Créer des ensembles et des abonnements</h3>


<A name="set"></a>
<H4>Créer des ensembles de réplication</H4>
<BR>
<center><img src="images/slony-set.png"></center>
<p>
Slony-I groupe les tables et les séquences qu'il doit répliquer d'un maître vers
des esclaves dans des ensembles de réplication. L'ensemble est créé sur le
n&oelig;ud source des données.
</p>

<A name="table"></a>
<H4>Définir une table à répliquer</H4>
<BR>
<center><img src="images/slony-table.png"></center>
<p>
Si la table source a des triggers, ils doivent être désactivés sur les n&oelig;uds
cibles de la réplication. Mais dans les environnements de réplication, les rôles
maître et esclave pourraient être échangés, donc il est nécessaire de les activer
et les désactiver dans ces situations. La page 'Trigger' permet la sélection des
triggers que Slony-I doit activer/désactiver si nécessaire.
</p>
<p>
<B>Attention&nbsp;:</B> si une table que vous voulez répliquer n'apparaît pas
dans la liste déroulante des tables, cela signifie habituellement que la table
n'a pas d'index unique. Slony-I réclame que chaque ligne des tables qui doivent
être répliquées soit identifiable de façon unique. Habituellement, cela se fait
avec une clé primaire mais dans le cas de la réplication, une clé unique suffit.
</p>
<p>
Bien que Slony-I a une fonction d'aide pour définier des clés uniques
intermédiaires, ceci n'est pas supporté pour les tables ajoutées dans des
ensembles de réplication avec pgAdmin III. Nous recommendons fortement de
définir une clé primaire sur les tables à répliquer.
</p>

<A name="sequence"></a>
<H4>Définir une séquence à répliquer</H4>
<BR>
<center><img src="images/slony-sequence.png"></center>
<p>
La séquence permet l'ajout de séquences dans un ensemble de réplication.
</p>

<A name="subscription"></a>
<H4>S'abonner à un ensemble de réplication</H4>
<BR>
<center><img src="images/slony-subscription.png"></center>
<p>
Après qu'un ensemble de réplication ait été défini, on peut s'y abonner. Les
abonnements doivent être créés sur le n&oelig;ud source (note&nbsp;: sur les
versions Slony-1 antérieures à la 1.1, cela doit se faire sur le n&oelig;ud
cible).
</p><p>
Après un abonnement sur un ensemble, sa définition des tables et séquences ne
peut plus être modifiée. Pour ajouter plus de tables, vous pouvez créer un
ensemble qui inclut les tables et séquences supplémentaires que vous voudriez
voir ajouter au premier ensemble de réplication, puis vous devez y abonner les
mêmes n&oelig;uds et enfin vous devez utiliser 
<A HREF="slony-functions.html#merge">Merge</A> pour fusionner les deux
ensembles en un seul.
</p>
</body>
</html>
