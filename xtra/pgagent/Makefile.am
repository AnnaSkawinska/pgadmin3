##############################################################################
# pgAdmin III - PostgreSQL Tools
# $Id: Makefile.am 4875 2006-01-06 21:06:46Z dpage $
# Copyright (C) 2002 - 2009, The pgAdmin Development Team
# This software is released under the Artistic Licence
#
# Makefile - Makefile for *nix systems
##############################################################################

bin_PROGRAMS = pgagent

pgagent_SOURCES = \
	    $(srcdir)/connection.cpp \
	    $(srcdir)/job.cpp \
	    $(srcdir)/misc.cpp \
	    $(srcdir)/pgAgent.cpp \
	    $(srcdir)/unix.cpp

EXTRA_DIST = \
		$(srcdir)/win32.cpp \
		$(srcdir)/pgAgent.rc \
		$(srcdir)/pgagent.sql \
		$(srcdir)/pgAgent.vcproj \
		$(srcdir)/precomp.cpp

noinst_HEADERS = \
		$(srcdir)/include/connection.h \
		$(srcdir)/include/job.h \
		$(srcdir)/include/misc.h \
		$(srcdir)/include/pgAgent.h

if SUN_CXX
  __CXXFLAGS=""
else
  __CXXFLAGS=-Wall -Wno-non-virtual-dtor -fno-strict-aliasing -Wno-write-strings
endif

if !APPBUNDLE

AM_CXXFLAGS = -DDATA_DIR=\"$(pkgdatadir)/\" $(__CXXFLAGS) -I$(srcdir)/include

install-data-local:
	$(install_sh) -c -m 644 pgagent.sql $(DESTDIR)/$(pkgdatadir)/pgagent.sql

else

install-data-local:

endif
